{"version":3,"sources":["webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby-starter-hello-world/./node_modules/mark.js/dist/mark.js","webpack://gatsby-starter-hello-world/./src/components/FrontendBar/index.tsx","webpack://gatsby-starter-hello-world/./src/components/FrontendBar/styles.module.css","webpack://gatsby-starter-hello-world/./node_modules/fuse.js/dist/fuse.esm.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/hooks/useFuse.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/hooks/useFuzzyInput.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/hooks/useFuzzyResult.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/Input/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/hooks/usePagination.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/Result/PageBar/PageMark/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/Result/PageBar/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/hooks/useMark.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/Result/ResultPage/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/Result/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/FuzzyGui/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/components/index.js","webpack://gatsby-starter-hello-world/./node_modules/zim-fuzzysearch/lib/index.js","webpack://gatsby-starter-hello-world/./src/components/DocsFuzzySearch/index.tsx","webpack://gatsby-starter-hello-world/./src/components/DocsFuzzySearch/styles.module.css","webpack://gatsby-starter-hello-world/./src/pages/search.tsx"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","value","writable","configurable","_possibleConstructorReturn","self","call","module","exports","_typeof","Symbol","iterator","obj","classCallCheck","instance","Constructor","createClass","defineProperties","target","props","i","length","descriptor","enumerable","defineProperty","key","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","DOMIterator","ctx","iframes","undefined","exclude","iframesTimeout","this","filteredCtx","NodeList","isPrototypeOf","Array","slice","isArray","document","querySelectorAll","forEach","isDescendant","filter","contexts","contains","indexOf","push","ifr","successFn","errorFn","doc","ifrWin","contentWindow","Error","e","bl","src","getAttribute","trim","location","href","_this","called","tout","listener","clearTimeout","isIframeBlank","removeEventListener","getIframeContents","addEventListener","setTimeout","readyState","observeIframeLoad","done","_this2","eachCalled","forEachIframe","waitForIframes","querySelector","handled","each","_this3","end","open","checkEnd","matches","onIframeReady","con","whatToShow","createNodeIterator","contents","node","prevNode","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","itr","previousNode","nextNode","currIfr","ifrDict","val","compareNodeIframe","eCb","fCb","_this4","createInstanceOnIframe","forEachNode","eachCb","filterCb","doneCb","_this5","createIterator","elements","retrieveNodes","_getIteratorNode","getIteratorNode","checkIframeFilter","ifrNode","handleOpenIframes","_this6","getContexts","ready","iterateThroughNodes","element","selector","selectors","fn","matchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","webkitMatchesSelector","match","every","sel","Mark$1","Mark","ie","ua","window","navigator","userAgent","msg","level","log","opt","debug","str","replace","wildcards","setupWildcardsRegExp","escapeStr","keys","synonyms","createSynonymsRegExp","ignoreJoiners","ignorePunctuation","setupIgnoreJoinersRegExp","diacritics","createDiacriticsRegExp","createMergedBlanksRegExp","createJoinersRegExp","createWildcardsRegExp","createAccuracyRegExp","syn","sens","caseSensitive","joinerPlaceholder","index","k1","k2","RegExp","processSynomyms","charAt","spaces","indx","original","nextChar","test","joiner","join","split","dct","ch","chars","acc","accuracy","ls","limiters","lsJoin","limiter","sv","stack","kw","separateWordSearch","kwSplitted","sort","a","b","Number","parseFloat","array","toString","noMatch","last","start","item","_callNoMatchOnInvalid","callNoMatchOnInvalidRanges","valid","range","parseInt","isNumeric","JSON","stringify","originalLength","string","max","offset","substring","cb","nodes","NodeFilter","SHOW_TEXT","textContent","matchesExclude","parentNode","FILTER_REJECT","FILTER_ACCEPT","el","concat","hEl","startNode","splitText","ret","repl","createElement","setAttribute","className","replaceChild","dict","n","sibl","s","startStr","substr","endStr","wrapRangeInTextNode","k","j","previousSibling","regex","ignoreGroups","endCb","matchIdx","getTextNodes","exec","pos","lastIndex","_this7","wrapRangeInMappedTextNode","ranges","_this8","counter","_checkWhitespaceRange","checkWhitespaceRanges","parent","docFrag","createDocumentFragment","firstChild","appendChild","removeChild","normalizeTextNode","normalize","nodeType","nextSibling","nodeValue","regexp","_this9","totalMatches","acrossElements","_this10","_getSeparatedKeywords","getSeparatedKeywords","kwArr","keywords","kwArrLen","handler","createRegExp","term","rawRanges","_this11","checkRanges","wrapRangeFromIndex","_this12","SHOW_ELEMENT","unwrapMatches","matchesSel","set","_opt","console","get","mark","markRegExp","markRanges","unmark","factory","to","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","apply","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","getTag","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","id","keyId","path","createKeyPath","createKeyId","name","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","AdvancedOptions","useExtendedSearch","getFn","list","arr","deepGet","baseToString","len","ignoreLocation","ignoreFieldNorm","Config","isCaseSensitive","includeScore","shouldSort","sortFn","score","idx","includeMatches","findAllMatches","minMatchCharLength","threshold","distance","SPACE","norm","mantissa","cache","Map","m","Math","pow","numTokens","has","sqrt","round","clear","FuseIndex","_ref","_ref$getFn","isCreated","setIndexRecords","docs","records","_keysMap","docIndex","_addString","_addObject","size","splice","record","v","$","keyIndex","subRecords","nestedArrIndex","_stack$pop","pop","_value","subRecord","createIndex","_ref2","_ref2$getFn","myIndex","setKeys","map","setSources","computeScore","pattern","_ref4","_ref4$errors","errors","_ref4$currentLocation","currentLocation","_ref4$expectedLocatio","expectedLocation","_ref4$distance","_ref4$ignoreLocation","proximity","abs","convertMaskToIndices","matchmask","indices","MAX_BITS","createPatternAlphabet","mask","char","BitapSearch","_ref6","_ref6$location","_ref6$threshold","_ref6$distance","_ref6$includeMatches","_ref6$findAllMatches","_ref6$minMatchCharLen","_ref6$isCaseSensitive","_ref6$ignoreLocation","options","toLowerCase","chunks","addChunk","startIndex","alphabet","remainder","text","_this$options","_result","isMatch","_this$options2","allIndices","totalScore","hasMatches","_ref7","_search","patternAlphabet","_ref5","_ref5$location","_ref5$distance","_ref5$threshold","_ref5$findAllMatches","_ref5$minMatchCharLen","_ref5$includeMatches","_ref5$ignoreLocation","patternLen","textLen","min","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","_i","binMin","binMid","floor","finish","bitArr","charMatch","search","BaseMatch","getMatch","multiRegex","singleRegex","exp","ExactMatch","_BaseMatch","_super","InverseExactMatch","_BaseMatch2","_super2","PrefixExactMatch","_BaseMatch3","_super3","startsWith","InversePrefixExactMatch","_BaseMatch4","_super4","SuffixExactMatch","_BaseMatch5","_super5","endsWith","InverseSuffixExactMatch","_BaseMatch6","_super6","FuzzyMatch","_BaseMatch7","_super7","_ref8","_ref8$location","_ref8$threshold","_ref8$distance","_ref8$includeMatches","_ref8$findAllMatches","_ref8$minMatchCharLen","_ref8$isCaseSensitive","_ref8$ignoreLocation","_bitapSearch","searchIn","IncludeMatch","_BaseMatch8","_super8","searchers","searchersLen","SPACE_RE","parseQuery","query","results","queryItem","found","searcher","token","isMultiMatch","_searcher","_token","isSingleMatch","MultiMatchSet","Set","type","ExtendedSearch","_ref9","_ref9$isCaseSensitive","_ref9$includeMatches","_ref9$minMatchCharLen","_ref9$ignoreLocation","_ref9$findAllMatches","_ref9$location","_ref9$threshold","_ref9$distance","_this$options3","numMatches","qLen","_searchers","pLen","_searcher$search","_","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","KeyType","isExpression","isPath","isLeaf","convertToExplicit","parse","_ref12","_ref12$auto","auto","next","isQueryPath","children","operator","computeScore$1","_ref13","_ref13$ignoreFieldNor","_ref14","EPSILON","transformMatches","data","refIndex","transformScore","format","_ref15","_ref15$includeMatches","_ref15$includeScore","transformers","transformer","Fuse","_keyStore","setCollection","_docs","_myIndex","add","predicate","removeAt","_ref16","_ref16$limit","limit","_this$options4","_searchStringList","_searchObjectList","_searchLogical","_ref17","_searcher$searchIn","expression","evaluate","_findMatches","getValueForItemAtKeyId","res","_res","_i2","_len","_result2","resultMap","_ref18","expResults","_ref19","_resultMap$idx$matche","_this$_myIndex","_ref20","_ref21","_ref22","_searcher$searchIn2","_norm","_searcher$searchIn3","version","parseIndex","_ref3","_ref3$getFn","config","register","useFuse","_a","fuseResult","setFuseResult","fuse","doFuseSearch","reducer","reduced","groupBy","objectArray","propName","reduce","resetFuse","FuzzyInputCtx","FuzzyInputProvider","inputVal","placeHolder","clickMode","handleInput","doSearch","onSearch","toggleFuseKey","fuseKeyMap","fuseKeyAllLabel","fuseStateOptions","setSelTag","suggestions","ReferenceError","Provider","useFuzzyInput","FuzzyResultCtx","FuzzyResultProvider","fuzzyResult","tagConceptMap","onSelect","onTagSelect","onFuseScoreToCssClass","resultCountLabel","showResultGrid","useFuzzyResult","_onChange","onChange","onSearchClick","_b","loading","_c","inputRef","inputCtx","resultCtx","_d","showFilterTab","setShowFilterTab","checkIncludes","activeKeys","fuseKeys","includes","onSubmit","evt","preventDefault","current","role","ref","currentTarget","disabled","placeholder","sugg","label","onClick","style","cursor","title","multiple","visibility","display","selectedTags","option","selected","fuseKey","usePagination","toIndex","pageLen","pageTuples","setPageTuples","curPageTupleInd","setCurPageTupleInd","indexPageTuples","getCurPageTuple","compareTuples","pageSize","modulo","keyNum","tuples","nextPage","prevPage","goToPage","tupleInd","getPageSection","activeTuple","findSameTuple","aTuple","ind","tuple","linkedTuple","curPageTuple","onPageSelect","isTrue","useMarkJs","markOptions","markInstance","elem","markRegEx","curPage","searchResult","searchedVal","divRef","handleTagClick","tagVal","tagObj","url","txt","tags","tag","renderEmptyResult","optionsDefault","markOptionsDefault","onFuseKeySelect","mapFuzzyInterval","searchInput","onInput","fuseOptions","_e","_f","_g","searchOnClick","_h","_j","_k","_l","setFuseStateOptions","_m","setInputVal","fuseSearchInputDelay","_o","filteredFuseResult","setFilteredFuseResult","_p","selTag","_q","filtered","some","copy","Comp","hooks","useStaticQuery","React","input","focus","scrollTo","fuzzyData","allGoogleDocs","edges","edge","childMarkdownRemark","excerpt","headings","heading","allNpmPackage","slug","readme","navigate","history","pushState","agg","Layout","center","Router","default","left","FrontendBar"],"mappings":"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","file":"component---src-pages-search-tsx-f5497ae60e2b6e802762.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","/*!***************************************************\n* mark.js v8.11.1\n* https://markjs.io/\n* Copyright (c) 20142018, Julian Khnel\n* Released under the MIT license https://git.io/vwTVl\n*****************************************************/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.Mark = factory();\n})(this, function () {\n  'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var DOMIterator = function () {\n    function DOMIterator(ctx) {\n      var iframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var iframesTimeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5000;\n      classCallCheck(this, DOMIterator);\n      this.ctx = ctx;\n      this.iframes = iframes;\n      this.exclude = exclude;\n      this.iframesTimeout = iframesTimeout;\n    }\n\n    createClass(DOMIterator, [{\n      key: 'getContexts',\n      value: function getContexts() {\n        var ctx = void 0,\n            filteredCtx = [];\n\n        if (typeof this.ctx === 'undefined' || !this.ctx) {\n          ctx = [];\n        } else if (NodeList.prototype.isPrototypeOf(this.ctx)) {\n          ctx = Array.prototype.slice.call(this.ctx);\n        } else if (Array.isArray(this.ctx)) {\n          ctx = this.ctx;\n        } else if (typeof this.ctx === 'string') {\n          ctx = Array.prototype.slice.call(document.querySelectorAll(this.ctx));\n        } else {\n          ctx = [this.ctx];\n        }\n\n        ctx.forEach(function (ctx) {\n          var isDescendant = filteredCtx.filter(function (contexts) {\n            return contexts.contains(ctx);\n          }).length > 0;\n\n          if (filteredCtx.indexOf(ctx) === -1 && !isDescendant) {\n            filteredCtx.push(ctx);\n          }\n        });\n        return filteredCtx;\n      }\n    }, {\n      key: 'getIframeContents',\n      value: function getIframeContents(ifr, successFn) {\n        var errorFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n        var doc = void 0;\n\n        try {\n          var ifrWin = ifr.contentWindow;\n          doc = ifrWin.document;\n\n          if (!ifrWin || !doc) {\n            throw new Error('iframe inaccessible');\n          }\n        } catch (e) {\n          errorFn();\n        }\n\n        if (doc) {\n          successFn(doc);\n        }\n      }\n    }, {\n      key: 'isIframeBlank',\n      value: function isIframeBlank(ifr) {\n        var bl = 'about:blank',\n            src = ifr.getAttribute('src').trim(),\n            href = ifr.contentWindow.location.href;\n        return href === bl && src !== bl && src;\n      }\n    }, {\n      key: 'observeIframeLoad',\n      value: function observeIframeLoad(ifr, successFn, errorFn) {\n        var _this = this;\n\n        var called = false,\n            tout = null;\n\n        var listener = function listener() {\n          if (called) {\n            return;\n          }\n\n          called = true;\n          clearTimeout(tout);\n\n          try {\n            if (!_this.isIframeBlank(ifr)) {\n              ifr.removeEventListener('load', listener);\n\n              _this.getIframeContents(ifr, successFn, errorFn);\n            }\n          } catch (e) {\n            errorFn();\n          }\n        };\n\n        ifr.addEventListener('load', listener);\n        tout = setTimeout(listener, this.iframesTimeout);\n      }\n    }, {\n      key: 'onIframeReady',\n      value: function onIframeReady(ifr, successFn, errorFn) {\n        try {\n          if (ifr.contentWindow.document.readyState === 'complete') {\n            if (this.isIframeBlank(ifr)) {\n              this.observeIframeLoad(ifr, successFn, errorFn);\n            } else {\n              this.getIframeContents(ifr, successFn, errorFn);\n            }\n          } else {\n            this.observeIframeLoad(ifr, successFn, errorFn);\n          }\n        } catch (e) {\n          errorFn();\n        }\n      }\n    }, {\n      key: 'waitForIframes',\n      value: function waitForIframes(ctx, done) {\n        var _this2 = this;\n\n        var eachCalled = 0;\n        this.forEachIframe(ctx, function () {\n          return true;\n        }, function (ifr) {\n          eachCalled++;\n\n          _this2.waitForIframes(ifr.querySelector('html'), function () {\n            if (! --eachCalled) {\n              done();\n            }\n          });\n        }, function (handled) {\n          if (!handled) {\n            done();\n          }\n        });\n      }\n    }, {\n      key: 'forEachIframe',\n      value: function forEachIframe(ctx, filter, each) {\n        var _this3 = this;\n\n        var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n        var ifr = ctx.querySelectorAll('iframe'),\n            open = ifr.length,\n            handled = 0;\n        ifr = Array.prototype.slice.call(ifr);\n\n        var checkEnd = function checkEnd() {\n          if (--open <= 0) {\n            end(handled);\n          }\n        };\n\n        if (!open) {\n          checkEnd();\n        }\n\n        ifr.forEach(function (ifr) {\n          if (DOMIterator.matches(ifr, _this3.exclude)) {\n            checkEnd();\n          } else {\n            _this3.onIframeReady(ifr, function (con) {\n              if (filter(ifr)) {\n                handled++;\n                each(con);\n              }\n\n              checkEnd();\n            }, checkEnd);\n          }\n        });\n      }\n    }, {\n      key: 'createIterator',\n      value: function createIterator(ctx, whatToShow, filter) {\n        return document.createNodeIterator(ctx, whatToShow, filter, false);\n      }\n    }, {\n      key: 'createInstanceOnIframe',\n      value: function createInstanceOnIframe(contents) {\n        return new DOMIterator(contents.querySelector('html'), this.iframes);\n      }\n    }, {\n      key: 'compareNodeIframe',\n      value: function compareNodeIframe(node, prevNode, ifr) {\n        var compCurr = node.compareDocumentPosition(ifr),\n            prev = Node.DOCUMENT_POSITION_PRECEDING;\n\n        if (compCurr & prev) {\n          if (prevNode !== null) {\n            var compPrev = prevNode.compareDocumentPosition(ifr),\n                after = Node.DOCUMENT_POSITION_FOLLOWING;\n\n            if (compPrev & after) {\n              return true;\n            }\n          } else {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    }, {\n      key: 'getIteratorNode',\n      value: function getIteratorNode(itr) {\n        var prevNode = itr.previousNode();\n        var node = void 0;\n\n        if (prevNode === null) {\n          node = itr.nextNode();\n        } else {\n          node = itr.nextNode() && itr.nextNode();\n        }\n\n        return {\n          prevNode: prevNode,\n          node: node\n        };\n      }\n    }, {\n      key: 'checkIframeFilter',\n      value: function checkIframeFilter(node, prevNode, currIfr, ifr) {\n        var key = false,\n            handled = false;\n        ifr.forEach(function (ifrDict, i) {\n          if (ifrDict.val === currIfr) {\n            key = i;\n            handled = ifrDict.handled;\n          }\n        });\n\n        if (this.compareNodeIframe(node, prevNode, currIfr)) {\n          if (key === false && !handled) {\n            ifr.push({\n              val: currIfr,\n              handled: true\n            });\n          } else if (key !== false && !handled) {\n            ifr[key].handled = true;\n          }\n\n          return true;\n        }\n\n        if (key === false) {\n          ifr.push({\n            val: currIfr,\n            handled: false\n          });\n        }\n\n        return false;\n      }\n    }, {\n      key: 'handleOpenIframes',\n      value: function handleOpenIframes(ifr, whatToShow, eCb, fCb) {\n        var _this4 = this;\n\n        ifr.forEach(function (ifrDict) {\n          if (!ifrDict.handled) {\n            _this4.getIframeContents(ifrDict.val, function (con) {\n              _this4.createInstanceOnIframe(con).forEachNode(whatToShow, eCb, fCb);\n            });\n          }\n        });\n      }\n    }, {\n      key: 'iterateThroughNodes',\n      value: function iterateThroughNodes(whatToShow, ctx, eachCb, filterCb, doneCb) {\n        var _this5 = this;\n\n        var itr = this.createIterator(ctx, whatToShow, filterCb);\n\n        var ifr = [],\n            elements = [],\n            node = void 0,\n            prevNode = void 0,\n            retrieveNodes = function retrieveNodes() {\n          var _getIteratorNode = _this5.getIteratorNode(itr);\n\n          prevNode = _getIteratorNode.prevNode;\n          node = _getIteratorNode.node;\n          return node;\n        };\n\n        while (retrieveNodes()) {\n          if (this.iframes) {\n            this.forEachIframe(ctx, function (currIfr) {\n              return _this5.checkIframeFilter(node, prevNode, currIfr, ifr);\n            }, function (con) {\n              _this5.createInstanceOnIframe(con).forEachNode(whatToShow, function (ifrNode) {\n                return elements.push(ifrNode);\n              }, filterCb);\n            });\n          }\n\n          elements.push(node);\n        }\n\n        elements.forEach(function (node) {\n          eachCb(node);\n        });\n\n        if (this.iframes) {\n          this.handleOpenIframes(ifr, whatToShow, eachCb, filterCb);\n        }\n\n        doneCb();\n      }\n    }, {\n      key: 'forEachNode',\n      value: function forEachNode(whatToShow, each, filter) {\n        var _this6 = this;\n\n        var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n        var contexts = this.getContexts();\n        var open = contexts.length;\n\n        if (!open) {\n          done();\n        }\n\n        contexts.forEach(function (ctx) {\n          var ready = function ready() {\n            _this6.iterateThroughNodes(whatToShow, ctx, each, filter, function () {\n              if (--open <= 0) {\n                done();\n              }\n            });\n          };\n\n          if (_this6.iframes) {\n            _this6.waitForIframes(ctx, ready);\n          } else {\n            ready();\n          }\n        });\n      }\n    }], [{\n      key: 'matches',\n      value: function matches(element, selector) {\n        var selectors = typeof selector === 'string' ? [selector] : selector,\n            fn = element.matches || element.matchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.webkitMatchesSelector;\n\n        if (fn) {\n          var match = false;\n          selectors.every(function (sel) {\n            if (fn.call(element, sel)) {\n              match = true;\n              return false;\n            }\n\n            return true;\n          });\n          return match;\n        } else {\n          return false;\n        }\n      }\n    }]);\n    return DOMIterator;\n  }();\n\n  var Mark$1 = function () {\n    function Mark(ctx) {\n      classCallCheck(this, Mark);\n      this.ctx = ctx;\n      this.ie = false;\n      var ua = window.navigator.userAgent;\n\n      if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {\n        this.ie = true;\n      }\n    }\n\n    createClass(Mark, [{\n      key: 'log',\n      value: function log(msg) {\n        var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'debug';\n        var log = this.opt.log;\n\n        if (!this.opt.debug) {\n          return;\n        }\n\n        if ((typeof log === 'undefined' ? 'undefined' : _typeof(log)) === 'object' && typeof log[level] === 'function') {\n          log[level]('mark.js: ' + msg);\n        }\n      }\n    }, {\n      key: 'escapeStr',\n      value: function escapeStr(str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n      }\n    }, {\n      key: 'createRegExp',\n      value: function createRegExp(str) {\n        if (this.opt.wildcards !== 'disabled') {\n          str = this.setupWildcardsRegExp(str);\n        }\n\n        str = this.escapeStr(str);\n\n        if (Object.keys(this.opt.synonyms).length) {\n          str = this.createSynonymsRegExp(str);\n        }\n\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.setupIgnoreJoinersRegExp(str);\n        }\n\n        if (this.opt.diacritics) {\n          str = this.createDiacriticsRegExp(str);\n        }\n\n        str = this.createMergedBlanksRegExp(str);\n\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.createJoinersRegExp(str);\n        }\n\n        if (this.opt.wildcards !== 'disabled') {\n          str = this.createWildcardsRegExp(str);\n        }\n\n        str = this.createAccuracyRegExp(str);\n        return str;\n      }\n    }, {\n      key: 'createSynonymsRegExp',\n      value: function createSynonymsRegExp(str) {\n        var syn = this.opt.synonyms,\n            sens = this.opt.caseSensitive ? '' : 'i',\n            joinerPlaceholder = this.opt.ignoreJoiners || this.opt.ignorePunctuation.length ? '\\0' : '';\n\n        for (var index in syn) {\n          if (syn.hasOwnProperty(index)) {\n            var value = syn[index],\n                k1 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(index) : this.escapeStr(index),\n                k2 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(value) : this.escapeStr(value);\n\n            if (k1 !== '' && k2 !== '') {\n              str = str.replace(new RegExp('(' + this.escapeStr(k1) + '|' + this.escapeStr(k2) + ')', 'gm' + sens), joinerPlaceholder + ('(' + this.processSynomyms(k1) + '|') + (this.processSynomyms(k2) + ')') + joinerPlaceholder);\n            }\n          }\n        }\n\n        return str;\n      }\n    }, {\n      key: 'processSynomyms',\n      value: function processSynomyms(str) {\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.setupIgnoreJoinersRegExp(str);\n        }\n\n        return str;\n      }\n    }, {\n      key: 'setupWildcardsRegExp',\n      value: function setupWildcardsRegExp(str) {\n        str = str.replace(/(?:\\\\)*\\?/g, function (val) {\n          return val.charAt(0) === '\\\\' ? '?' : '\\x01';\n        });\n        return str.replace(/(?:\\\\)*\\*/g, function (val) {\n          return val.charAt(0) === '\\\\' ? '*' : '\\x02';\n        });\n      }\n    }, {\n      key: 'createWildcardsRegExp',\n      value: function createWildcardsRegExp(str) {\n        var spaces = this.opt.wildcards === 'withSpaces';\n        return str.replace(/\\u0001/g, spaces ? '[\\\\S\\\\s]?' : '\\\\S?').replace(/\\u0002/g, spaces ? '[\\\\S\\\\s]*?' : '\\\\S*');\n      }\n    }, {\n      key: 'setupIgnoreJoinersRegExp',\n      value: function setupIgnoreJoinersRegExp(str) {\n        return str.replace(/[^(|)\\\\]/g, function (val, indx, original) {\n          var nextChar = original.charAt(indx + 1);\n\n          if (/[(|)\\\\]/.test(nextChar) || nextChar === '') {\n            return val;\n          } else {\n            return val + '\\0';\n          }\n        });\n      }\n    }, {\n      key: 'createJoinersRegExp',\n      value: function createJoinersRegExp(str) {\n        var joiner = [];\n        var ignorePunctuation = this.opt.ignorePunctuation;\n\n        if (Array.isArray(ignorePunctuation) && ignorePunctuation.length) {\n          joiner.push(this.escapeStr(ignorePunctuation.join('')));\n        }\n\n        if (this.opt.ignoreJoiners) {\n          joiner.push(\"\\\\u00ad\\\\u200b\\\\u200c\\\\u200d\");\n        }\n\n        return joiner.length ? str.split(/\\u0000+/).join('[' + joiner.join('') + ']*') : str;\n      }\n    }, {\n      key: 'createDiacriticsRegExp',\n      value: function createDiacriticsRegExp(str) {\n        var sens = this.opt.caseSensitive ? '' : 'i',\n            dct = this.opt.caseSensitive ? ['a', 'A', 'c', 'C', 'd', 'D', 'e', 'E', 'i', 'I', 'l', 'L', 'n', 'N', 'o', 'O', 'r', 'R', 's', 'S', 't', 'T', 'u', 'U', 'y', 'Y', 'z', 'Z'] : ['aA', 'cC', 'dD', 'eE', 'iI', 'lL', 'nN', 'oO', 'rR', 'sS', 'tT', 'uU', 'yY', 'zZ'];\n        var handled = [];\n        str.split('').forEach(function (ch) {\n          dct.every(function (dct) {\n            if (dct.indexOf(ch) !== -1) {\n              if (handled.indexOf(dct) > -1) {\n                return false;\n              }\n\n              str = str.replace(new RegExp('[' + dct + ']', 'gm' + sens), '[' + dct + ']');\n              handled.push(dct);\n            }\n\n            return true;\n          });\n        });\n        return str;\n      }\n    }, {\n      key: 'createMergedBlanksRegExp',\n      value: function createMergedBlanksRegExp(str) {\n        return str.replace(/[\\s]+/gmi, '[\\\\s]+');\n      }\n    }, {\n      key: 'createAccuracyRegExp',\n      value: function createAccuracyRegExp(str) {\n        var _this = this;\n\n        var chars = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~';\n        var acc = this.opt.accuracy,\n            val = typeof acc === 'string' ? acc : acc.value,\n            ls = typeof acc === 'string' ? [] : acc.limiters,\n            lsJoin = '';\n        ls.forEach(function (limiter) {\n          lsJoin += '|' + _this.escapeStr(limiter);\n        });\n\n        switch (val) {\n          case 'partially':\n          default:\n            return '()(' + str + ')';\n\n          case 'complementary':\n            lsJoin = '\\\\s' + (lsJoin ? lsJoin : this.escapeStr(chars));\n            return '()([^' + lsJoin + ']*' + str + '[^' + lsJoin + ']*)';\n\n          case 'exactly':\n            return '(^|\\\\s' + lsJoin + ')(' + str + ')(?=$|\\\\s' + lsJoin + ')';\n        }\n      }\n    }, {\n      key: 'getSeparatedKeywords',\n      value: function getSeparatedKeywords(sv) {\n        var _this2 = this;\n\n        var stack = [];\n        sv.forEach(function (kw) {\n          if (!_this2.opt.separateWordSearch) {\n            if (kw.trim() && stack.indexOf(kw) === -1) {\n              stack.push(kw);\n            }\n          } else {\n            kw.split(' ').forEach(function (kwSplitted) {\n              if (kwSplitted.trim() && stack.indexOf(kwSplitted) === -1) {\n                stack.push(kwSplitted);\n              }\n            });\n          }\n        });\n        return {\n          'keywords': stack.sort(function (a, b) {\n            return b.length - a.length;\n          }),\n          'length': stack.length\n        };\n      }\n    }, {\n      key: 'isNumeric',\n      value: function isNumeric(value) {\n        return Number(parseFloat(value)) == value;\n      }\n    }, {\n      key: 'checkRanges',\n      value: function checkRanges(array) {\n        var _this3 = this;\n\n        if (!Array.isArray(array) || Object.prototype.toString.call(array[0]) !== '[object Object]') {\n          this.log('markRanges() will only accept an array of objects');\n          this.opt.noMatch(array);\n          return [];\n        }\n\n        var stack = [];\n        var last = 0;\n        array.sort(function (a, b) {\n          return a.start - b.start;\n        }).forEach(function (item) {\n          var _callNoMatchOnInvalid = _this3.callNoMatchOnInvalidRanges(item, last),\n              start = _callNoMatchOnInvalid.start,\n              end = _callNoMatchOnInvalid.end,\n              valid = _callNoMatchOnInvalid.valid;\n\n          if (valid) {\n            item.start = start;\n            item.length = end - start;\n            stack.push(item);\n            last = end;\n          }\n        });\n        return stack;\n      }\n    }, {\n      key: 'callNoMatchOnInvalidRanges',\n      value: function callNoMatchOnInvalidRanges(range, last) {\n        var start = void 0,\n            end = void 0,\n            valid = false;\n\n        if (range && typeof range.start !== 'undefined') {\n          start = parseInt(range.start, 10);\n          end = start + parseInt(range.length, 10);\n\n          if (this.isNumeric(range.start) && this.isNumeric(range.length) && end - last > 0 && end - start > 0) {\n            valid = true;\n          } else {\n            this.log('Ignoring invalid or overlapping range: ' + ('' + JSON.stringify(range)));\n            this.opt.noMatch(range);\n          }\n        } else {\n          this.log('Ignoring invalid range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        }\n\n        return {\n          start: start,\n          end: end,\n          valid: valid\n        };\n      }\n    }, {\n      key: 'checkWhitespaceRanges',\n      value: function checkWhitespaceRanges(range, originalLength, string) {\n        var end = void 0,\n            valid = true,\n            max = string.length,\n            offset = originalLength - max,\n            start = parseInt(range.start, 10) - offset;\n        start = start > max ? max : start;\n        end = start + parseInt(range.length, 10);\n\n        if (end > max) {\n          end = max;\n          this.log('End range automatically set to the max value of ' + max);\n        }\n\n        if (start < 0 || end - start < 0 || start > max || end > max) {\n          valid = false;\n          this.log('Invalid range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        } else if (string.substring(start, end).replace(/\\s+/g, '') === '') {\n          valid = false;\n          this.log('Skipping whitespace only range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        }\n\n        return {\n          start: start,\n          end: end,\n          valid: valid\n        };\n      }\n    }, {\n      key: 'getTextNodes',\n      value: function getTextNodes(cb) {\n        var _this4 = this;\n\n        var val = '',\n            nodes = [];\n        this.iterator.forEachNode(NodeFilter.SHOW_TEXT, function (node) {\n          nodes.push({\n            start: val.length,\n            end: (val += node.textContent).length,\n            node: node\n          });\n        }, function (node) {\n          if (_this4.matchesExclude(node.parentNode)) {\n            return NodeFilter.FILTER_REJECT;\n          } else {\n            return NodeFilter.FILTER_ACCEPT;\n          }\n        }, function () {\n          cb({\n            value: val,\n            nodes: nodes\n          });\n        });\n      }\n    }, {\n      key: 'matchesExclude',\n      value: function matchesExclude(el) {\n        return DOMIterator.matches(el, this.opt.exclude.concat(['script', 'style', 'title', 'head', 'html']));\n      }\n    }, {\n      key: 'wrapRangeInTextNode',\n      value: function wrapRangeInTextNode(node, start, end) {\n        var hEl = !this.opt.element ? 'mark' : this.opt.element,\n            startNode = node.splitText(start),\n            ret = startNode.splitText(end - start);\n        var repl = document.createElement(hEl);\n        repl.setAttribute('data-markjs', 'true');\n\n        if (this.opt.className) {\n          repl.setAttribute('class', this.opt.className);\n        }\n\n        repl.textContent = startNode.textContent;\n        startNode.parentNode.replaceChild(repl, startNode);\n        return ret;\n      }\n    }, {\n      key: 'wrapRangeInMappedTextNode',\n      value: function wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n        var _this5 = this;\n\n        dict.nodes.every(function (n, i) {\n          var sibl = dict.nodes[i + 1];\n\n          if (typeof sibl === 'undefined' || sibl.start > start) {\n            if (!filterCb(n.node)) {\n              return false;\n            }\n\n            var s = start - n.start,\n                e = (end > n.end ? n.end : end) - n.start,\n                startStr = dict.value.substr(0, n.start),\n                endStr = dict.value.substr(e + n.start);\n            n.node = _this5.wrapRangeInTextNode(n.node, s, e);\n            dict.value = startStr + endStr;\n            dict.nodes.forEach(function (k, j) {\n              if (j >= i) {\n                if (dict.nodes[j].start > 0 && j !== i) {\n                  dict.nodes[j].start -= e;\n                }\n\n                dict.nodes[j].end -= e;\n              }\n            });\n            end -= e;\n            eachCb(n.node.previousSibling, n.start);\n\n            if (end > n.end) {\n              start = n.end;\n            } else {\n              return false;\n            }\n          }\n\n          return true;\n        });\n      }\n    }, {\n      key: 'wrapMatches',\n      value: function wrapMatches(regex, ignoreGroups, filterCb, eachCb, endCb) {\n        var _this6 = this;\n\n        var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n        this.getTextNodes(function (dict) {\n          dict.nodes.forEach(function (node) {\n            node = node.node;\n            var match = void 0;\n\n            while ((match = regex.exec(node.textContent)) !== null && match[matchIdx] !== '') {\n              if (!filterCb(match[matchIdx], node)) {\n                continue;\n              }\n\n              var pos = match.index;\n\n              if (matchIdx !== 0) {\n                for (var i = 1; i < matchIdx; i++) {\n                  pos += match[i].length;\n                }\n              }\n\n              node = _this6.wrapRangeInTextNode(node, pos, pos + match[matchIdx].length);\n              eachCb(node.previousSibling);\n              regex.lastIndex = 0;\n            }\n          });\n          endCb();\n        });\n      }\n    }, {\n      key: 'wrapMatchesAcrossElements',\n      value: function wrapMatchesAcrossElements(regex, ignoreGroups, filterCb, eachCb, endCb) {\n        var _this7 = this;\n\n        var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n        this.getTextNodes(function (dict) {\n          var match = void 0;\n\n          while ((match = regex.exec(dict.value)) !== null && match[matchIdx] !== '') {\n            var start = match.index;\n\n            if (matchIdx !== 0) {\n              for (var i = 1; i < matchIdx; i++) {\n                start += match[i].length;\n              }\n            }\n\n            var end = start + match[matchIdx].length;\n\n            _this7.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n              return filterCb(match[matchIdx], node);\n            }, function (node, lastIndex) {\n              regex.lastIndex = lastIndex;\n              eachCb(node);\n            });\n          }\n\n          endCb();\n        });\n      }\n    }, {\n      key: 'wrapRangeFromIndex',\n      value: function wrapRangeFromIndex(ranges, filterCb, eachCb, endCb) {\n        var _this8 = this;\n\n        this.getTextNodes(function (dict) {\n          var originalLength = dict.value.length;\n          ranges.forEach(function (range, counter) {\n            var _checkWhitespaceRange = _this8.checkWhitespaceRanges(range, originalLength, dict.value),\n                start = _checkWhitespaceRange.start,\n                end = _checkWhitespaceRange.end,\n                valid = _checkWhitespaceRange.valid;\n\n            if (valid) {\n              _this8.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n                return filterCb(node, range, dict.value.substring(start, end), counter);\n              }, function (node) {\n                eachCb(node, range);\n              });\n            }\n          });\n          endCb();\n        });\n      }\n    }, {\n      key: 'unwrapMatches',\n      value: function unwrapMatches(node) {\n        var parent = node.parentNode;\n        var docFrag = document.createDocumentFragment();\n\n        while (node.firstChild) {\n          docFrag.appendChild(node.removeChild(node.firstChild));\n        }\n\n        parent.replaceChild(docFrag, node);\n\n        if (!this.ie) {\n          parent.normalize();\n        } else {\n          this.normalizeTextNode(parent);\n        }\n      }\n    }, {\n      key: 'normalizeTextNode',\n      value: function normalizeTextNode(node) {\n        if (!node) {\n          return;\n        }\n\n        if (node.nodeType === 3) {\n          while (node.nextSibling && node.nextSibling.nodeType === 3) {\n            node.nodeValue += node.nextSibling.nodeValue;\n            node.parentNode.removeChild(node.nextSibling);\n          }\n        } else {\n          this.normalizeTextNode(node.firstChild);\n        }\n\n        this.normalizeTextNode(node.nextSibling);\n      }\n    }, {\n      key: 'markRegExp',\n      value: function markRegExp(regexp, opt) {\n        var _this9 = this;\n\n        this.opt = opt;\n        this.log('Searching with expression \"' + regexp + '\"');\n        var totalMatches = 0,\n            fn = 'wrapMatches';\n\n        var eachCb = function eachCb(element) {\n          totalMatches++;\n\n          _this9.opt.each(element);\n        };\n\n        if (this.opt.acrossElements) {\n          fn = 'wrapMatchesAcrossElements';\n        }\n\n        this[fn](regexp, this.opt.ignoreGroups, function (match, node) {\n          return _this9.opt.filter(node, match, totalMatches);\n        }, eachCb, function () {\n          if (totalMatches === 0) {\n            _this9.opt.noMatch(regexp);\n          }\n\n          _this9.opt.done(totalMatches);\n        });\n      }\n    }, {\n      key: 'mark',\n      value: function mark(sv, opt) {\n        var _this10 = this;\n\n        this.opt = opt;\n        var totalMatches = 0,\n            fn = 'wrapMatches';\n\n        var _getSeparatedKeywords = this.getSeparatedKeywords(typeof sv === 'string' ? [sv] : sv),\n            kwArr = _getSeparatedKeywords.keywords,\n            kwArrLen = _getSeparatedKeywords.length,\n            sens = this.opt.caseSensitive ? '' : 'i',\n            handler = function handler(kw) {\n          var regex = new RegExp(_this10.createRegExp(kw), 'gm' + sens),\n              matches = 0;\n\n          _this10.log('Searching with expression \"' + regex + '\"');\n\n          _this10[fn](regex, 1, function (term, node) {\n            return _this10.opt.filter(node, kw, totalMatches, matches);\n          }, function (element) {\n            matches++;\n            totalMatches++;\n\n            _this10.opt.each(element);\n          }, function () {\n            if (matches === 0) {\n              _this10.opt.noMatch(kw);\n            }\n\n            if (kwArr[kwArrLen - 1] === kw) {\n              _this10.opt.done(totalMatches);\n            } else {\n              handler(kwArr[kwArr.indexOf(kw) + 1]);\n            }\n          });\n        };\n\n        if (this.opt.acrossElements) {\n          fn = 'wrapMatchesAcrossElements';\n        }\n\n        if (kwArrLen === 0) {\n          this.opt.done(totalMatches);\n        } else {\n          handler(kwArr[0]);\n        }\n      }\n    }, {\n      key: 'markRanges',\n      value: function markRanges(rawRanges, opt) {\n        var _this11 = this;\n\n        this.opt = opt;\n        var totalMatches = 0,\n            ranges = this.checkRanges(rawRanges);\n\n        if (ranges && ranges.length) {\n          this.log('Starting to mark with the following ranges: ' + JSON.stringify(ranges));\n          this.wrapRangeFromIndex(ranges, function (node, range, match, counter) {\n            return _this11.opt.filter(node, range, match, counter);\n          }, function (element, range) {\n            totalMatches++;\n\n            _this11.opt.each(element, range);\n          }, function () {\n            _this11.opt.done(totalMatches);\n          });\n        } else {\n          this.opt.done(totalMatches);\n        }\n      }\n    }, {\n      key: 'unmark',\n      value: function unmark(opt) {\n        var _this12 = this;\n\n        this.opt = opt;\n        var sel = this.opt.element ? this.opt.element : '*';\n        sel += '[data-markjs]';\n\n        if (this.opt.className) {\n          sel += '.' + this.opt.className;\n        }\n\n        this.log('Removal selector \"' + sel + '\"');\n        this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT, function (node) {\n          _this12.unwrapMatches(node);\n        }, function (node) {\n          var matchesSel = DOMIterator.matches(node, sel),\n              matchesExclude = _this12.matchesExclude(node);\n\n          if (!matchesSel || matchesExclude) {\n            return NodeFilter.FILTER_REJECT;\n          } else {\n            return NodeFilter.FILTER_ACCEPT;\n          }\n        }, this.opt.done);\n      }\n    }, {\n      key: 'opt',\n      set: function set$$1(val) {\n        this._opt = _extends({}, {\n          'element': '',\n          'className': '',\n          'exclude': [],\n          'iframes': false,\n          'iframesTimeout': 5000,\n          'separateWordSearch': true,\n          'diacritics': true,\n          'synonyms': {},\n          'accuracy': 'partially',\n          'acrossElements': false,\n          'caseSensitive': false,\n          'ignoreJoiners': false,\n          'ignoreGroups': 0,\n          'ignorePunctuation': [],\n          'wildcards': 'disabled',\n          'each': function each() {},\n          'noMatch': function noMatch() {},\n          'filter': function filter() {\n            return true;\n          },\n          'done': function done() {},\n          'debug': false,\n          'log': window.console\n        }, val);\n      },\n      get: function get$$1() {\n        return this._opt;\n      }\n    }, {\n      key: 'iterator',\n      get: function get$$1() {\n        return new DOMIterator(this.ctx, this.opt.iframes, this.opt.exclude, this.opt.iframesTimeout);\n      }\n    }]);\n    return Mark;\n  }();\n\n  function Mark(ctx) {\n    var _this = this;\n\n    var instance = new Mark$1(ctx);\n\n    this.mark = function (sv, opt) {\n      instance.mark(sv, opt);\n      return _this;\n    };\n\n    this.markRegExp = function (sv, opt) {\n      instance.markRegExp(sv, opt);\n      return _this;\n    };\n\n    this.markRanges = function (sv, opt) {\n      instance.markRanges(sv, opt);\n      return _this;\n    };\n\n    this.unmark = function (opt) {\n      instance.unmark(opt);\n      return _this;\n    };\n\n    return this;\n  }\n\n  return Mark;\n});","import React from \"react\";\n//@ts-ignore\nimport * as styles from \"./styles.module.css\";\nimport { Link } from \"gatsby\"\n\nconst FrontendBar: React.FC = () => {\n  return <ul className={styles.mainList}>\n    <li>\n      <div>\n        <Link to=\"/doc/gamsjs/gamsjs-api\">GamsJS API</Link>\n        <p>Documentation for gamsJs</p>\n      </div>\n    </li>\n    {/* <li>\n      <div>\n        <a href=\"#\">Frontend Policy</a>\n        <p>Frontend Technologies in context of DH research</p>\n      </div>\n    </li>\n    <li>\n      <div>\n        <a href=\"#\">Reference Impls</a>\n        <p>Reference Inplementations for different GUI-features and Frontend-Techs.</p>\n      </div>\n    </li> */}\n    <li>\n      <div>\n        <Link to=\"/doc/gams-projekt-template\">GAMS Project Template</Link>\n        <p>GAMS project setup template files needed to initialize a project on gamsdev. Display of different versions and currently recommended setup</p>\n      </div>\n    </li>\n    {/* <li>\n      <div>\n        <a href=\"#\">Tech Guidelines</a>\n        <p>Development guidelines and tutorials for different frontend-technology used in context of DH research.</p>\n      </div>\n    </li> */}\n  </ul>\n}\n\nexport default FrontendBar;","// extracted by mini-css-extract-plugin\nexport const mainList = \"styles-module--mainList--285lH\";","import _inherits from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _toConsumableArray from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/dooku_client/dooku_client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/**\n * Fuse.js v6.4.6 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n} // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\n\n\nvar INFINITY = 1 / 0;\n\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number';\n} // Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\n\n\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\n\nfunction isObject(value) {\n  return typeof value === 'object';\n} // Checks if `value` is object-like.\n\n\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nfunction isBlank(value) {\n  return !value.trim().length;\n} // Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\n\n\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\n\nvar EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nvar INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nvar LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = function LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key) {\n  return \"Invalid value for key \".concat(key);\n};\n\nvar PATTERN_LENGTH_TOO_LARGE = function PATTERN_LENGTH_TOO_LARGE(max) {\n  return \"Pattern length exceeds max of \".concat(max, \".\");\n};\n\nvar MISSING_KEY_PROPERTY = function MISSING_KEY_PROPERTY(name) {\n  return \"Missing \".concat(name, \" property in key\");\n};\n\nvar INVALID_KEY_WEIGHT_VALUE = function INVALID_KEY_WEIGHT_VALUE(key) {\n  return \"Property 'weight' in key '\".concat(key, \"' must be a positive integer\");\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nvar KeyStore = /*#__PURE__*/function () {\n  function KeyStore(keys) {\n    var _this = this;\n\n    _classCallCheck(this, KeyStore);\n\n    this._keys = [];\n    this._keyMap = {};\n    var totalWeight = 0;\n    keys.forEach(function (key) {\n      var obj = createKey(key);\n      totalWeight += obj.weight;\n\n      _this._keys.push(obj);\n\n      _this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    }); // Normalize weights so that their sum is equal to 1\n\n    this._keys.forEach(function (key) {\n      key.weight /= totalWeight;\n    });\n  }\n\n  _createClass(KeyStore, [{\n    key: \"get\",\n    value: function get(keyId) {\n      return this._keyMap[keyId];\n    }\n  }, {\n    key: \"keys\",\n    value: function keys() {\n      return this._keys;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return JSON.stringify(this._keys);\n    }\n  }]);\n\n  return KeyStore;\n}();\n\nfunction createKey(key) {\n  var path = null;\n  var id = null;\n  var src = null;\n  var weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n\n    var name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return {\n    path: path,\n    id: id,\n    weight: weight,\n    src: src\n  };\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\n\nfunction get(obj, path) {\n  var list = [];\n  var arr = false;\n\n  var deepGet = function deepGet(obj, path, index) {\n    if (!isDefined(obj)) {\n      return;\n    }\n\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      var key = path[index];\n      var value = obj[key];\n\n      if (!isDefined(value)) {\n        return;\n      } // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n\n\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true; // Search each item in the array.\n\n        for (var i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  }; // Backwards compatibility (since path used to be a string)\n\n\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\n\nvar MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nvar BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: function sortFn(a, b) {\n    return a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1;\n  }\n};\nvar FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nvar AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false\n};\n\nvar Config = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\n\nvar SPACE = /[^ ]+/g; // Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\n\nfunction norm() {\n  var mantissa = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n  var cache = new Map();\n  var m = Math.pow(10, mantissa);\n  return {\n    get: function get(value) {\n      var numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      var norm = 1 / Math.sqrt(numTokens); // In place of `toFixed(mantissa)`, for faster computation\n\n      var n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear: function clear() {\n      cache.clear();\n    }\n  };\n}\n\nvar FuseIndex = /*#__PURE__*/function () {\n  function FuseIndex() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$getFn = _ref.getFn,\n        getFn = _ref$getFn === void 0 ? Config.getFn : _ref$getFn;\n\n    _classCallCheck(this, FuseIndex);\n\n    this.norm = norm(3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n\n  _createClass(FuseIndex, [{\n    key: \"setSources\",\n    value: function setSources() {\n      var docs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.docs = docs;\n    }\n  }, {\n    key: \"setIndexRecords\",\n    value: function setIndexRecords() {\n      var records = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.records = records;\n    }\n  }, {\n    key: \"setKeys\",\n    value: function setKeys() {\n      var _this2 = this;\n\n      var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.keys = keys;\n      this._keysMap = {};\n      keys.forEach(function (key, idx) {\n        _this2._keysMap[key.id] = idx;\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create() {\n      var _this3 = this;\n\n      if (this.isCreated || !this.docs.length) {\n        return;\n      }\n\n      this.isCreated = true; // List is Array<String>\n\n      if (isString(this.docs[0])) {\n        this.docs.forEach(function (doc, docIndex) {\n          _this3._addString(doc, docIndex);\n        });\n      } else {\n        // List is Array<Object>\n        this.docs.forEach(function (doc, docIndex) {\n          _this3._addObject(doc, docIndex);\n        });\n      }\n\n      this.norm.clear();\n    } // Adds a doc to the end of the index\n\n  }, {\n    key: \"add\",\n    value: function add(doc) {\n      var idx = this.size();\n\n      if (isString(doc)) {\n        this._addString(doc, idx);\n      } else {\n        this._addObject(doc, idx);\n      }\n    } // Removes the doc at the specified index of the index\n\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(idx) {\n      this.records.splice(idx, 1); // Change ref index of every subsquent doc\n\n      for (var i = idx, len = this.size(); i < len; i += 1) {\n        this.records[i].i -= 1;\n      }\n    }\n  }, {\n    key: \"getValueForItemAtKeyId\",\n    value: function getValueForItemAtKeyId(item, keyId) {\n      return item[this._keysMap[keyId]];\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.records.length;\n    }\n  }, {\n    key: \"_addString\",\n    value: function _addString(doc, docIndex) {\n      if (!isDefined(doc) || isBlank(doc)) {\n        return;\n      }\n\n      var record = {\n        v: doc,\n        i: docIndex,\n        n: this.norm.get(doc)\n      };\n      this.records.push(record);\n    }\n  }, {\n    key: \"_addObject\",\n    value: function _addObject(doc, docIndex) {\n      var _this4 = this;\n\n      var record = {\n        i: docIndex,\n        $: {}\n      }; // Iterate over every key (i.e, path), and fetch the value at that key\n\n      this.keys.forEach(function (key, keyIndex) {\n        // console.log(key)\n        var value = _this4.getFn(doc, key.path);\n\n        if (!isDefined(value)) {\n          return;\n        }\n\n        if (isArray(value)) {\n          (function () {\n            var subRecords = [];\n            var stack = [{\n              nestedArrIndex: -1,\n              value: value\n            }];\n\n            while (stack.length) {\n              var _stack$pop = stack.pop(),\n                  nestedArrIndex = _stack$pop.nestedArrIndex,\n                  _value = _stack$pop.value;\n\n              if (!isDefined(_value)) {\n                continue;\n              }\n\n              if (isString(_value) && !isBlank(_value)) {\n                var subRecord = {\n                  v: _value,\n                  i: nestedArrIndex,\n                  n: _this4.norm.get(_value)\n                };\n                subRecords.push(subRecord);\n              } else if (isArray(_value)) {\n                _value.forEach(function (item, k) {\n                  stack.push({\n                    nestedArrIndex: k,\n                    value: item\n                  });\n                });\n              }\n            }\n\n            record.$[keyIndex] = subRecords;\n          })();\n        } else if (!isBlank(value)) {\n          var subRecord = {\n            v: value,\n            n: _this4.norm.get(value)\n          };\n          record.$[keyIndex] = subRecord;\n        }\n      });\n      this.records.push(record);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        keys: this.keys,\n        records: this.records\n      };\n    }\n  }]);\n\n  return FuseIndex;\n}();\n\nfunction createIndex(keys, docs) {\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$getFn = _ref2.getFn,\n      getFn = _ref2$getFn === void 0 ? Config.getFn : _ref2$getFn;\n\n  var myIndex = new FuseIndex({\n    getFn: getFn\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\n\nfunction parseIndex(data) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$getFn = _ref3.getFn,\n      getFn = _ref3$getFn === void 0 ? Config.getFn : _ref3$getFn;\n\n  var keys = data.keys,\n      records = data.records;\n  var myIndex = new FuseIndex({\n    getFn: getFn\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\n\nfunction computeScore(pattern) {\n  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref4$errors = _ref4.errors,\n      errors = _ref4$errors === void 0 ? 0 : _ref4$errors,\n      _ref4$currentLocation = _ref4.currentLocation,\n      currentLocation = _ref4$currentLocation === void 0 ? 0 : _ref4$currentLocation,\n      _ref4$expectedLocatio = _ref4.expectedLocation,\n      expectedLocation = _ref4$expectedLocatio === void 0 ? 0 : _ref4$expectedLocatio,\n      _ref4$distance = _ref4.distance,\n      distance = _ref4$distance === void 0 ? Config.distance : _ref4$distance,\n      _ref4$ignoreLocation = _ref4.ignoreLocation,\n      ignoreLocation = _ref4$ignoreLocation === void 0 ? Config.ignoreLocation : _ref4$ignoreLocation;\n\n  var accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy;\n  }\n\n  var proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n\n  return accuracy + proximity / distance;\n}\n\nfunction convertMaskToIndices() {\n  var matchmask = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var minMatchCharLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Config.minMatchCharLength;\n  var indices = [];\n  var start = -1;\n  var end = -1;\n  var i = 0;\n\n  for (var len = matchmask.length; i < len; i += 1) {\n    var match = matchmask[i];\n\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n\n      start = -1;\n    }\n  } // (i-1 - start) + 1 => i - start\n\n\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices;\n} // Machine word size\n\n\nvar MAX_BITS = 32;\n\nfunction search(text, pattern, patternAlphabet) {\n  var _ref5 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref5$location = _ref5.location,\n      location = _ref5$location === void 0 ? Config.location : _ref5$location,\n      _ref5$distance = _ref5.distance,\n      distance = _ref5$distance === void 0 ? Config.distance : _ref5$distance,\n      _ref5$threshold = _ref5.threshold,\n      threshold = _ref5$threshold === void 0 ? Config.threshold : _ref5$threshold,\n      _ref5$findAllMatches = _ref5.findAllMatches,\n      findAllMatches = _ref5$findAllMatches === void 0 ? Config.findAllMatches : _ref5$findAllMatches,\n      _ref5$minMatchCharLen = _ref5.minMatchCharLength,\n      minMatchCharLength = _ref5$minMatchCharLen === void 0 ? Config.minMatchCharLength : _ref5$minMatchCharLen,\n      _ref5$includeMatches = _ref5.includeMatches,\n      includeMatches = _ref5$includeMatches === void 0 ? Config.includeMatches : _ref5$includeMatches,\n      _ref5$ignoreLocation = _ref5.ignoreLocation,\n      ignoreLocation = _ref5$ignoreLocation === void 0 ? Config.ignoreLocation : _ref5$ignoreLocation;\n\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n\n  var patternLen = pattern.length; // Set starting location at beginning text and initialize the alphabet.\n\n  var textLen = text.length; // Handle the case when location > text.length\n\n  var expectedLocation = Math.max(0, Math.min(location, textLen)); // Highest score beyond which we give up.\n\n  var currentThreshold = threshold; // Is there a nearby exact match? (speedup)\n\n  var bestLocation = expectedLocation; // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n\n  var computeMatches = minMatchCharLength > 1 || includeMatches; // A mask of the matches, used for building the indices\n\n  var matchMask = computeMatches ? Array(textLen) : [];\n  var index; // Get all exact matches, here for speed up\n\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    var score = computeScore(pattern, {\n      currentLocation: index,\n      expectedLocation: expectedLocation,\n      distance: distance,\n      ignoreLocation: ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      var i = 0;\n\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  } // Reset the best location\n\n\n  bestLocation = -1;\n  var lastBitArr = [];\n  var finalScore = 1;\n  var binMax = patternLen + textLen;\n  var mask = 1 << patternLen - 1;\n\n  for (var _i = 0; _i < patternLen; _i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    var binMin = 0;\n    var binMid = binMax;\n\n    while (binMin < binMid) {\n      var _score2 = computeScore(pattern, {\n        errors: _i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation: expectedLocation,\n        distance: distance,\n        ignoreLocation: ignoreLocation\n      });\n\n      if (_score2 <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    binMax = binMid;\n    var start = Math.max(1, expectedLocation - binMid + 1);\n    var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen; // Initialize the bit array\n\n    var bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << _i) - 1;\n\n    for (var j = finish; j >= start; j -= 1) {\n      var currentLocation = j - 1;\n      var charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      } // First pass: exact match\n\n\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch; // Subsequent passes: fuzzy match\n\n      if (_i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore(pattern, {\n          errors: _i,\n          currentLocation: currentLocation,\n          expectedLocation: expectedLocation,\n          distance: distance,\n          ignoreLocation: ignoreLocation\n        }); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation; // Already passed `loc`, downhill from here on in.\n\n          if (bestLocation <= expectedLocation) {\n            break;\n          } // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n\n\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    var _score = computeScore(pattern, {\n      errors: _i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation: expectedLocation,\n      distance: distance,\n      ignoreLocation: ignoreLocation\n    });\n\n    if (_score > currentThreshold) {\n      break;\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  var result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    var indices = convertMaskToIndices(matchMask, minMatchCharLength);\n\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result;\n}\n\nfunction createPatternAlphabet(pattern) {\n  var mask = {};\n\n  for (var i = 0, len = pattern.length; i < len; i += 1) {\n    var char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n\n  return mask;\n}\n\nvar BitapSearch = /*#__PURE__*/function () {\n  function BitapSearch(pattern) {\n    var _this5 = this;\n\n    var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref6$location = _ref6.location,\n        location = _ref6$location === void 0 ? Config.location : _ref6$location,\n        _ref6$threshold = _ref6.threshold,\n        threshold = _ref6$threshold === void 0 ? Config.threshold : _ref6$threshold,\n        _ref6$distance = _ref6.distance,\n        distance = _ref6$distance === void 0 ? Config.distance : _ref6$distance,\n        _ref6$includeMatches = _ref6.includeMatches,\n        includeMatches = _ref6$includeMatches === void 0 ? Config.includeMatches : _ref6$includeMatches,\n        _ref6$findAllMatches = _ref6.findAllMatches,\n        findAllMatches = _ref6$findAllMatches === void 0 ? Config.findAllMatches : _ref6$findAllMatches,\n        _ref6$minMatchCharLen = _ref6.minMatchCharLength,\n        minMatchCharLength = _ref6$minMatchCharLen === void 0 ? Config.minMatchCharLength : _ref6$minMatchCharLen,\n        _ref6$isCaseSensitive = _ref6.isCaseSensitive,\n        isCaseSensitive = _ref6$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref6$isCaseSensitive,\n        _ref6$ignoreLocation = _ref6.ignoreLocation,\n        ignoreLocation = _ref6$ignoreLocation === void 0 ? Config.ignoreLocation : _ref6$ignoreLocation;\n\n    _classCallCheck(this, BitapSearch);\n\n    this.options = {\n      location: location,\n      threshold: threshold,\n      distance: distance,\n      includeMatches: includeMatches,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      isCaseSensitive: isCaseSensitive,\n      ignoreLocation: ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return;\n    }\n\n    var addChunk = function addChunk(pattern, startIndex) {\n      _this5.chunks.push({\n        pattern: pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex: startIndex\n      });\n    };\n\n    var len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      var i = 0;\n      var remainder = len % MAX_BITS;\n      var end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        var startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  _createClass(BitapSearch, [{\n    key: \"searchIn\",\n    value: function searchIn(text) {\n      var _this$options = this.options,\n          isCaseSensitive = _this$options.isCaseSensitive,\n          includeMatches = _this$options.includeMatches;\n\n      if (!isCaseSensitive) {\n        text = text.toLowerCase();\n      } // Exact match\n\n\n      if (this.pattern === text) {\n        var _result = {\n          isMatch: true,\n          score: 0\n        };\n\n        if (includeMatches) {\n          _result.indices = [[0, text.length - 1]];\n        }\n\n        return _result;\n      } // Otherwise, use Bitap algorithm\n\n\n      var _this$options2 = this.options,\n          location = _this$options2.location,\n          distance = _this$options2.distance,\n          threshold = _this$options2.threshold,\n          findAllMatches = _this$options2.findAllMatches,\n          minMatchCharLength = _this$options2.minMatchCharLength,\n          ignoreLocation = _this$options2.ignoreLocation;\n      var allIndices = [];\n      var totalScore = 0;\n      var hasMatches = false;\n      this.chunks.forEach(function (_ref7) {\n        var pattern = _ref7.pattern,\n            alphabet = _ref7.alphabet,\n            startIndex = _ref7.startIndex;\n\n        var _search = search(text, pattern, alphabet, {\n          location: location + startIndex,\n          distance: distance,\n          threshold: threshold,\n          findAllMatches: findAllMatches,\n          minMatchCharLength: minMatchCharLength,\n          includeMatches: includeMatches,\n          ignoreLocation: ignoreLocation\n        }),\n            isMatch = _search.isMatch,\n            score = _search.score,\n            indices = _search.indices;\n\n        if (isMatch) {\n          hasMatches = true;\n        }\n\n        totalScore += score;\n\n        if (isMatch && indices) {\n          allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));\n        }\n      });\n      var result = {\n        isMatch: hasMatches,\n        score: hasMatches ? totalScore / this.chunks.length : 1\n      };\n\n      if (hasMatches && includeMatches) {\n        result.indices = allIndices;\n      }\n\n      return result;\n    }\n  }]);\n\n  return BitapSearch;\n}();\n\nvar BaseMatch = /*#__PURE__*/function () {\n  function BaseMatch(pattern) {\n    _classCallCheck(this, BaseMatch);\n\n    this.pattern = pattern;\n  }\n\n  _createClass(BaseMatch, [{\n    key: \"search\",\n    value: function search()\n    /*text*/\n    {}\n  }], [{\n    key: \"isMultiMatch\",\n    value: function isMultiMatch(pattern) {\n      return getMatch(pattern, this.multiRegex);\n    }\n  }, {\n    key: \"isSingleMatch\",\n    value: function isSingleMatch(pattern) {\n      return getMatch(pattern, this.singleRegex);\n    }\n  }]);\n\n  return BaseMatch;\n}();\n\nfunction getMatch(pattern, exp) {\n  var matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n} // Token: 'file\n\n\nvar ExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(ExactMatch, _BaseMatch);\n\n  var _super = _createSuper(ExactMatch);\n\n  function ExactMatch(pattern) {\n    _classCallCheck(this, ExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(ExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text === this.pattern;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, this.pattern.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^=\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^=(.*)$/;\n    }\n  }]);\n\n  return ExactMatch;\n}(BaseMatch); // Token: !fire\n\n\nvar InverseExactMatch = /*#__PURE__*/function (_BaseMatch2) {\n  _inherits(InverseExactMatch, _BaseMatch2);\n\n  var _super2 = _createSuper(InverseExactMatch);\n\n  function InverseExactMatch(pattern) {\n    _classCallCheck(this, InverseExactMatch);\n\n    return _super2.call(this, pattern);\n  }\n\n  _createClass(InverseExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var index = text.indexOf(this.pattern);\n      var isMatch = index === -1;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!(.*)$/;\n    }\n  }]);\n\n  return InverseExactMatch;\n}(BaseMatch); // Token: ^file\n\n\nvar PrefixExactMatch = /*#__PURE__*/function (_BaseMatch3) {\n  _inherits(PrefixExactMatch, _BaseMatch3);\n\n  var _super3 = _createSuper(PrefixExactMatch);\n\n  function PrefixExactMatch(pattern) {\n    _classCallCheck(this, PrefixExactMatch);\n\n    return _super3.call(this, pattern);\n  }\n\n  _createClass(PrefixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text.startsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, this.pattern.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'prefix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\\^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^\\^(.*)$/;\n    }\n  }]);\n\n  return PrefixExactMatch;\n}(BaseMatch); // Token: !^fire\n\n\nvar InversePrefixExactMatch = /*#__PURE__*/function (_BaseMatch4) {\n  _inherits(InversePrefixExactMatch, _BaseMatch4);\n\n  var _super4 = _createSuper(InversePrefixExactMatch);\n\n  function InversePrefixExactMatch(pattern) {\n    _classCallCheck(this, InversePrefixExactMatch);\n\n    return _super4.call(this, pattern);\n  }\n\n  _createClass(InversePrefixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = !text.startsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-prefix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\\^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!\\^(.*)$/;\n    }\n  }]);\n\n  return InversePrefixExactMatch;\n}(BaseMatch); // Token: .file$\n\n\nvar SuffixExactMatch = /*#__PURE__*/function (_BaseMatch5) {\n  _inherits(SuffixExactMatch, _BaseMatch5);\n\n  var _super5 = _createSuper(SuffixExactMatch);\n\n  function SuffixExactMatch(pattern) {\n    _classCallCheck(this, SuffixExactMatch);\n\n    return _super5.call(this, pattern);\n  }\n\n  _createClass(SuffixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text.endsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [text.length - this.pattern.length, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'suffix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\"(.*)\"\\$$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^(.*)\\$$/;\n    }\n  }]);\n\n  return SuffixExactMatch;\n}(BaseMatch); // Token: !.file$\n\n\nvar InverseSuffixExactMatch = /*#__PURE__*/function (_BaseMatch6) {\n  _inherits(InverseSuffixExactMatch, _BaseMatch6);\n\n  var _super6 = _createSuper(InverseSuffixExactMatch);\n\n  function InverseSuffixExactMatch(pattern) {\n    _classCallCheck(this, InverseSuffixExactMatch);\n\n    return _super6.call(this, pattern);\n  }\n\n  _createClass(InverseSuffixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = !text.endsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-suffix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\"(.*)\"\\$$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!(.*)\\$$/;\n    }\n  }]);\n\n  return InverseSuffixExactMatch;\n}(BaseMatch);\n\nvar FuzzyMatch = /*#__PURE__*/function (_BaseMatch7) {\n  _inherits(FuzzyMatch, _BaseMatch7);\n\n  var _super7 = _createSuper(FuzzyMatch);\n\n  function FuzzyMatch(pattern) {\n    var _this6;\n\n    var _ref8 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref8$location = _ref8.location,\n        location = _ref8$location === void 0 ? Config.location : _ref8$location,\n        _ref8$threshold = _ref8.threshold,\n        threshold = _ref8$threshold === void 0 ? Config.threshold : _ref8$threshold,\n        _ref8$distance = _ref8.distance,\n        distance = _ref8$distance === void 0 ? Config.distance : _ref8$distance,\n        _ref8$includeMatches = _ref8.includeMatches,\n        includeMatches = _ref8$includeMatches === void 0 ? Config.includeMatches : _ref8$includeMatches,\n        _ref8$findAllMatches = _ref8.findAllMatches,\n        findAllMatches = _ref8$findAllMatches === void 0 ? Config.findAllMatches : _ref8$findAllMatches,\n        _ref8$minMatchCharLen = _ref8.minMatchCharLength,\n        minMatchCharLength = _ref8$minMatchCharLen === void 0 ? Config.minMatchCharLength : _ref8$minMatchCharLen,\n        _ref8$isCaseSensitive = _ref8.isCaseSensitive,\n        isCaseSensitive = _ref8$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref8$isCaseSensitive,\n        _ref8$ignoreLocation = _ref8.ignoreLocation,\n        ignoreLocation = _ref8$ignoreLocation === void 0 ? Config.ignoreLocation : _ref8$ignoreLocation;\n\n    _classCallCheck(this, FuzzyMatch);\n\n    _this6 = _super7.call(this, pattern);\n    _this6._bitapSearch = new BitapSearch(pattern, {\n      location: location,\n      threshold: threshold,\n      distance: distance,\n      includeMatches: includeMatches,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      isCaseSensitive: isCaseSensitive,\n      ignoreLocation: ignoreLocation\n    });\n    return _this6;\n  }\n\n  _createClass(FuzzyMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      return this._bitapSearch.searchIn(text);\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'fuzzy';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^(.*)$/;\n    }\n  }]);\n\n  return FuzzyMatch;\n}(BaseMatch); // Token: 'file\n\n\nvar IncludeMatch = /*#__PURE__*/function (_BaseMatch8) {\n  _inherits(IncludeMatch, _BaseMatch8);\n\n  var _super8 = _createSuper(IncludeMatch);\n\n  function IncludeMatch(pattern) {\n    _classCallCheck(this, IncludeMatch);\n\n    return _super8.call(this, pattern);\n  }\n\n  _createClass(IncludeMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var location = 0;\n      var index;\n      var indices = [];\n      var patternLen = this.pattern.length; // Get all exact matches\n\n      while ((index = text.indexOf(this.pattern, location)) > -1) {\n        location = index + patternLen;\n        indices.push([index, location - 1]);\n      }\n\n      var isMatch = !!indices.length;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: indices\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'include';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^'\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^'(.*)$/;\n    }\n  }]);\n\n  return IncludeMatch;\n}(BaseMatch); // Order is important. DO NOT CHANGE.\n\n\nvar searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nvar searchersLen = searchers.length; // Regex to split by spaces, but keep anything in quotes together\n\nvar SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nvar OR_TOKEN = '|'; // Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\n\nfunction parseQuery(pattern) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return pattern.split(OR_TOKEN).map(function (item) {\n    var query = item.trim().split(SPACE_RE).filter(function (item) {\n      return item && !!item.trim();\n    });\n    var results = [];\n\n    for (var i = 0, len = query.length; i < len; i += 1) {\n      var queryItem = query[i]; // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n\n      var found = false;\n      var idx = -1;\n\n      while (!found && ++idx < searchersLen) {\n        var searcher = searchers[idx];\n        var token = searcher.isMultiMatch(queryItem);\n\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue;\n      } // 2. Handle single query matches (i.e, once that are *not* quoted)\n\n\n      idx = -1;\n\n      while (++idx < searchersLen) {\n        var _searcher = searchers[idx];\n\n        var _token = _searcher.isSingleMatch(queryItem);\n\n        if (_token) {\n          results.push(new _searcher(_token, options));\n          break;\n        }\n      }\n    }\n\n    return results;\n  });\n} // These extended matchers can return an array of matches, as opposed\n// to a singl match\n\n\nvar MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\n\nvar ExtendedSearch = /*#__PURE__*/function () {\n  function ExtendedSearch(pattern) {\n    var _ref9 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref9$isCaseSensitive = _ref9.isCaseSensitive,\n        isCaseSensitive = _ref9$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref9$isCaseSensitive,\n        _ref9$includeMatches = _ref9.includeMatches,\n        includeMatches = _ref9$includeMatches === void 0 ? Config.includeMatches : _ref9$includeMatches,\n        _ref9$minMatchCharLen = _ref9.minMatchCharLength,\n        minMatchCharLength = _ref9$minMatchCharLen === void 0 ? Config.minMatchCharLength : _ref9$minMatchCharLen,\n        _ref9$ignoreLocation = _ref9.ignoreLocation,\n        ignoreLocation = _ref9$ignoreLocation === void 0 ? Config.ignoreLocation : _ref9$ignoreLocation,\n        _ref9$findAllMatches = _ref9.findAllMatches,\n        findAllMatches = _ref9$findAllMatches === void 0 ? Config.findAllMatches : _ref9$findAllMatches,\n        _ref9$location = _ref9.location,\n        location = _ref9$location === void 0 ? Config.location : _ref9$location,\n        _ref9$threshold = _ref9.threshold,\n        threshold = _ref9$threshold === void 0 ? Config.threshold : _ref9$threshold,\n        _ref9$distance = _ref9.distance,\n        distance = _ref9$distance === void 0 ? Config.distance : _ref9$distance;\n\n    _classCallCheck(this, ExtendedSearch);\n\n    this.query = null;\n    this.options = {\n      isCaseSensitive: isCaseSensitive,\n      includeMatches: includeMatches,\n      minMatchCharLength: minMatchCharLength,\n      findAllMatches: findAllMatches,\n      ignoreLocation: ignoreLocation,\n      location: location,\n      threshold: threshold,\n      distance: distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  _createClass(ExtendedSearch, [{\n    key: \"searchIn\",\n    value: function searchIn(text) {\n      var query = this.query;\n\n      if (!query) {\n        return {\n          isMatch: false,\n          score: 1\n        };\n      }\n\n      var _this$options3 = this.options,\n          includeMatches = _this$options3.includeMatches,\n          isCaseSensitive = _this$options3.isCaseSensitive;\n      text = isCaseSensitive ? text : text.toLowerCase();\n      var numMatches = 0;\n      var allIndices = [];\n      var totalScore = 0; // ORs\n\n      for (var i = 0, qLen = query.length; i < qLen; i += 1) {\n        var _searchers = query[i]; // Reset indices\n\n        allIndices.length = 0;\n        numMatches = 0; // ANDs\n\n        for (var j = 0, pLen = _searchers.length; j < pLen; j += 1) {\n          var searcher = _searchers[j];\n\n          var _searcher$search = searcher.search(text),\n              isMatch = _searcher$search.isMatch,\n              indices = _searcher$search.indices,\n              score = _searcher$search.score;\n\n          if (isMatch) {\n            numMatches += 1;\n            totalScore += score;\n\n            if (includeMatches) {\n              var type = searcher.constructor.type;\n\n              if (MultiMatchSet.has(type)) {\n                allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));\n              } else {\n                allIndices.push(indices);\n              }\n            }\n          } else {\n            totalScore = 0;\n            numMatches = 0;\n            allIndices.length = 0;\n            break;\n          }\n        } // OR condition, so if TRUE, return\n\n\n        if (numMatches) {\n          var result = {\n            isMatch: true,\n            score: totalScore / numMatches\n          };\n\n          if (includeMatches) {\n            result.indices = allIndices;\n          }\n\n          return result;\n        }\n      } // Nothing was matched\n\n\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n  }], [{\n    key: \"condition\",\n    value: function condition(_, options) {\n      return options.useExtendedSearch;\n    }\n  }]);\n\n  return ExtendedSearch;\n}();\n\nvar registeredSearchers = [];\n\nfunction register() {\n  registeredSearchers.push.apply(registeredSearchers, arguments);\n}\n\nfunction createSearcher(pattern, options) {\n  for (var i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    var searcherClass = registeredSearchers[i];\n\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n\n  return new BitapSearch(pattern, options);\n}\n\nvar LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nvar KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nvar isExpression = function isExpression(query) {\n  return !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n};\n\nvar isPath = function isPath(query) {\n  return !!query[KeyType.PATH];\n};\n\nvar isLeaf = function isLeaf(query) {\n  return !isArray(query) && isObject(query) && !isExpression(query);\n};\n\nvar convertToExplicit = function convertToExplicit(query) {\n  return _defineProperty({}, LogicalOperator.AND, Object.keys(query).map(function (key) {\n    return _defineProperty({}, key, query[key]);\n  }));\n}; // When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\n\n\nfunction parse(query, options) {\n  var _ref12 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref12$auto = _ref12.auto,\n      auto = _ref12$auto === void 0 ? true : _ref12$auto;\n\n  var next = function next(query) {\n    var keys = Object.keys(query);\n    var isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n\n    if (isLeaf(query)) {\n      var key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      var pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n\n      var obj = {\n        keyId: createKeyId(key),\n        pattern: pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj;\n    }\n\n    var node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(function (key) {\n      var value = query[key];\n\n      if (isArray(value)) {\n        value.forEach(function (item) {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query);\n} // Practical scoring function\n\n\nfunction computeScore$1(results, _ref13) {\n  var _ref13$ignoreFieldNor = _ref13.ignoreFieldNorm,\n      ignoreFieldNorm = _ref13$ignoreFieldNor === void 0 ? Config.ignoreFieldNorm : _ref13$ignoreFieldNor;\n  results.forEach(function (result) {\n    var totalScore = 1;\n    result.matches.forEach(function (_ref14) {\n      var key = _ref14.key,\n          norm = _ref14.norm,\n          score = _ref14.score;\n      var weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  var matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return;\n  }\n\n  matches.forEach(function (match) {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n\n    var indices = match.indices,\n        value = match.value;\n    var obj = {\n      indices: indices,\n      value: value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(results, docs) {\n  var _ref15 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref15$includeMatches = _ref15.includeMatches,\n      includeMatches = _ref15$includeMatches === void 0 ? Config.includeMatches : _ref15$includeMatches,\n      _ref15$includeScore = _ref15.includeScore,\n      includeScore = _ref15$includeScore === void 0 ? Config.includeScore : _ref15$includeScore;\n\n  var transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(function (result) {\n    var idx = result.idx;\n    var data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach(function (transformer) {\n        transformer(result, data);\n      });\n    }\n\n    return data;\n  });\n}\n\nvar Fuse = /*#__PURE__*/function () {\n  function Fuse(docs) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var index = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, Fuse);\n\n    this.options = _objectSpread(_objectSpread({}, Config), options);\n\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n\n  _createClass(Fuse, [{\n    key: \"setCollection\",\n    value: function setCollection(docs, index) {\n      this._docs = docs;\n\n      if (index && !(index instanceof FuseIndex)) {\n        throw new Error(INCORRECT_INDEX_TYPE);\n      }\n\n      this._myIndex = index || createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(doc) {\n      if (!isDefined(doc)) {\n        return;\n      }\n\n      this._docs.push(doc);\n\n      this._myIndex.add(doc);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var predicate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {\n        return (\n          /* doc, idx */\n          false\n        );\n      };\n      var results = [];\n\n      for (var i = 0, len = this._docs.length; i < len; i += 1) {\n        var doc = this._docs[i];\n\n        if (predicate(doc, i)) {\n          this.removeAt(i);\n          i -= 1;\n          len -= 1;\n          results.push(doc);\n        }\n      }\n\n      return results;\n    }\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(idx) {\n      this._docs.splice(idx, 1);\n\n      this._myIndex.removeAt(idx);\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      return this._myIndex;\n    }\n  }, {\n    key: \"search\",\n    value: function search(query) {\n      var _ref16 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref16$limit = _ref16.limit,\n          limit = _ref16$limit === void 0 ? -1 : _ref16$limit;\n\n      var _this$options4 = this.options,\n          includeMatches = _this$options4.includeMatches,\n          includeScore = _this$options4.includeScore,\n          shouldSort = _this$options4.shouldSort,\n          sortFn = _this$options4.sortFn,\n          ignoreFieldNorm = _this$options4.ignoreFieldNorm;\n      var results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n      computeScore$1(results, {\n        ignoreFieldNorm: ignoreFieldNorm\n      });\n\n      if (shouldSort) {\n        results.sort(sortFn);\n      }\n\n      if (isNumber(limit) && limit > -1) {\n        results = results.slice(0, limit);\n      }\n\n      return format(results, this._docs, {\n        includeMatches: includeMatches,\n        includeScore: includeScore\n      });\n    }\n  }, {\n    key: \"_searchStringList\",\n    value: function _searchStringList(query) {\n      var searcher = createSearcher(query, this.options);\n      var records = this._myIndex.records;\n      var results = []; // Iterate over every string in the index\n\n      records.forEach(function (_ref17) {\n        var text = _ref17.v,\n            idx = _ref17.i,\n            norm = _ref17.n;\n\n        if (!isDefined(text)) {\n          return;\n        }\n\n        var _searcher$searchIn = searcher.searchIn(text),\n            isMatch = _searcher$searchIn.isMatch,\n            score = _searcher$searchIn.score,\n            indices = _searcher$searchIn.indices;\n\n        if (isMatch) {\n          results.push({\n            item: text,\n            idx: idx,\n            matches: [{\n              score: score,\n              value: text,\n              norm: norm,\n              indices: indices\n            }]\n          });\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_searchLogical\",\n    value: function _searchLogical(query) {\n      var _this7 = this;\n\n      var expression = parse(query, this.options);\n\n      var evaluate = function evaluate(node, item, idx) {\n        if (!node.children) {\n          var keyId = node.keyId,\n              searcher = node.searcher;\n\n          var matches = _this7._findMatches({\n            key: _this7._keyStore.get(keyId),\n            value: _this7._myIndex.getValueForItemAtKeyId(item, keyId),\n            searcher: searcher\n          });\n\n          if (matches && matches.length) {\n            return [{\n              idx: idx,\n              item: item,\n              matches: matches\n            }];\n          }\n\n          return [];\n        }\n        /*eslint indent: [2, 2, {\"SwitchCase\": 1}]*/\n\n\n        switch (node.operator) {\n          case LogicalOperator.AND:\n            {\n              var res = [];\n\n              for (var i = 0, len = node.children.length; i < len; i += 1) {\n                var child = node.children[i];\n                var result = evaluate(child, item, idx);\n\n                if (result.length) {\n                  res.push.apply(res, _toConsumableArray(result));\n                } else {\n                  return [];\n                }\n              }\n\n              return res;\n            }\n\n          case LogicalOperator.OR:\n            {\n              var _res = [];\n\n              for (var _i2 = 0, _len = node.children.length; _i2 < _len; _i2 += 1) {\n                var _child = node.children[_i2];\n\n                var _result2 = evaluate(_child, item, idx);\n\n                if (_result2.length) {\n                  _res.push.apply(_res, _toConsumableArray(_result2));\n\n                  break;\n                }\n              }\n\n              return _res;\n            }\n        }\n      };\n\n      var records = this._myIndex.records;\n      var resultMap = {};\n      var results = [];\n      records.forEach(function (_ref18) {\n        var item = _ref18.$,\n            idx = _ref18.i;\n\n        if (isDefined(item)) {\n          var expResults = evaluate(expression, item, idx);\n\n          if (expResults.length) {\n            // Dedupe when adding\n            if (!resultMap[idx]) {\n              resultMap[idx] = {\n                idx: idx,\n                item: item,\n                matches: []\n              };\n              results.push(resultMap[idx]);\n            }\n\n            expResults.forEach(function (_ref19) {\n              var _resultMap$idx$matche;\n\n              var matches = _ref19.matches;\n\n              (_resultMap$idx$matche = resultMap[idx].matches).push.apply(_resultMap$idx$matche, _toConsumableArray(matches));\n            });\n          }\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_searchObjectList\",\n    value: function _searchObjectList(query) {\n      var _this8 = this;\n\n      var searcher = createSearcher(query, this.options);\n      var _this$_myIndex = this._myIndex,\n          keys = _this$_myIndex.keys,\n          records = _this$_myIndex.records;\n      var results = []; // List is Array<Object>\n\n      records.forEach(function (_ref20) {\n        var item = _ref20.$,\n            idx = _ref20.i;\n\n        if (!isDefined(item)) {\n          return;\n        }\n\n        var matches = []; // Iterate over every key (i.e, path), and fetch the value at that key\n\n        keys.forEach(function (key, keyIndex) {\n          matches.push.apply(matches, _toConsumableArray(_this8._findMatches({\n            key: key,\n            value: item[keyIndex],\n            searcher: searcher\n          })));\n        });\n\n        if (matches.length) {\n          results.push({\n            idx: idx,\n            item: item,\n            matches: matches\n          });\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_findMatches\",\n    value: function _findMatches(_ref21) {\n      var key = _ref21.key,\n          value = _ref21.value,\n          searcher = _ref21.searcher;\n\n      if (!isDefined(value)) {\n        return [];\n      }\n\n      var matches = [];\n\n      if (isArray(value)) {\n        value.forEach(function (_ref22) {\n          var text = _ref22.v,\n              idx = _ref22.i,\n              norm = _ref22.n;\n\n          if (!isDefined(text)) {\n            return;\n          }\n\n          var _searcher$searchIn2 = searcher.searchIn(text),\n              isMatch = _searcher$searchIn2.isMatch,\n              score = _searcher$searchIn2.score,\n              indices = _searcher$searchIn2.indices;\n\n          if (isMatch) {\n            matches.push({\n              score: score,\n              key: key,\n              value: text,\n              idx: idx,\n              norm: norm,\n              indices: indices\n            });\n          }\n        });\n      } else {\n        var text = value.v,\n            _norm = value.n;\n\n        var _searcher$searchIn3 = searcher.searchIn(text),\n            isMatch = _searcher$searchIn3.isMatch,\n            score = _searcher$searchIn3.score,\n            indices = _searcher$searchIn3.indices;\n\n        if (isMatch) {\n          matches.push({\n            score: score,\n            key: key,\n            value: text,\n            norm: _norm,\n            indices: indices\n          });\n        }\n      }\n\n      return matches;\n    }\n  }]);\n\n  return Fuse;\n}();\n\nFuse.version = '6.4.6';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n{\n  Fuse.parseQuery = parse;\n}\n{\n  register(ExtendedSearch);\n}\nexport default Fuse;","import React from \"react\";\nimport Fuse from \"fuse.js\";\n/**\r\n * Exposes\r\n * @param data custom data to be \"full text search enabled\".\r\n * @param options fuse configuration object. Set which properties should be searchable.\r\n * @returns Object:\r\n *    1. fuseResult - state of fuse result. Set via doFuseSearch method.\r\n *    2. doFuseSearch - method to search given string in configured data structure\r\n *    3. groupBy - utility function to group result values.\r\n */\n\nexport var useFuse = function useFuse(options, data) {\n  var _a = React.useState(null),\n      fuseResult = _a[0],\n      setFuseResult = _a[1];\n  /**\r\n   * Memoizes the return value and recalculates only if list or options\r\n   * changes.\r\n   */\n\n\n  var fuse = React.useMemo(function () {\n    if (!data) return;\n    return new Fuse(data, options);\n  }, [data, options]);\n  /**\r\n   * Method to init the search from fuse.js\r\n   * @param search string to be searched\r\n   */\n\n  var doFuseSearch = function doFuseSearch(search, reducer, options) {\n    if (!fuse) return;\n    var result = fuse.search(search, options);\n\n    if (reducer) {\n      var reduced = reducer(result);\n      setFuseResult(reduced);\n      return reduced;\n    } else {\n      setFuseResult(result);\n      return result;\n    }\n  };\n  /**\r\n   * Utility function to regroup given object according to given prop name.\r\n   * @param objectArray Array of arbitrary objects.\r\n   * @param propName property on which should be regrouped.\r\n   */\n\n\n  var groupBy = function groupBy(objectArray, propName) {\n    return objectArray.reduce(function (acc, obj) {\n      var key = obj[propName];\n\n      if (!acc[key]) {\n        acc[key] = [];\n      }\n\n      acc[key].push(obj);\n      return acc;\n    }, {});\n  };\n\n  return {\n    fuseResult: fuseResult,\n    doFuseSearch: doFuseSearch,\n    groupBy: groupBy,\n    fuse: fuse,\n    resetFuse: function resetFuse() {\n      return setFuseResult(null);\n    }\n  };\n};","import React from \"react\";\nvar FuzzyInputCtx = React.createContext(null);\nexport var FuzzyInputProvider = function FuzzyInputProvider(_a) {\n  var inputVal = _a.inputVal,\n      placeHolder = _a.placeHolder,\n      clickMode = _a.clickMode,\n      handleInput = _a.handleInput,\n      doSearch = _a.doSearch,\n      data = _a.data,\n      onSearch = _a.onSearch,\n      toggleFuseKey = _a.toggleFuseKey,\n      fuseKeyMap = _a.fuseKeyMap,\n      fuseKeyAllLabel = _a.fuseKeyAllLabel,\n      fuseStateOptions = _a.fuseStateOptions,\n      setSelTag = _a.setSelTag,\n      suggestions = _a.suggestions,\n      children = _a.children;\n  if (!FuzzyInputCtx) throw new ReferenceError(\"FuzzyIinput context validated false. There must be an error inside the useFuzzyInput custom hook\");\n  return React.createElement(FuzzyInputCtx.Provider, {\n    value: {\n      inputVal: inputVal,\n      clickMode: clickMode,\n      doSearch: doSearch,\n      handleInput: handleInput,\n      placeHolder: placeHolder,\n      onSearch: onSearch,\n      data: data,\n      fuseKeyMap: fuseKeyMap,\n      fuseKeyAllLabel: fuseKeyAllLabel,\n      fuseStateOptions: fuseStateOptions,\n      toggleFuseKey: toggleFuseKey,\n      setSelTag: setSelTag,\n      suggestions: suggestions\n    }\n  }, children);\n};\nexport var useFuzzyInput = function useFuzzyInput() {\n  if (!FuzzyInputCtx) throw new ReferenceError(\"FuzzyInputCtx is still null. Make sure to call the correct FuzzyInputProvider somewhere in the parent components.\");\n  return React.useContext(FuzzyInputCtx);\n};","import React from \"react\";\nvar FuzzyResultCtx = React.createContext(null);\n/**\r\n * Component to provide the result context in the children components.\r\n * Can then be accessed via useFuzzyResult.\r\n */\n\nexport var FuzzyResultProvider = function FuzzyResultProvider(_a) {\n  var fuzzyResult = _a.fuzzyResult,\n      tagConceptMap = _a.tagConceptMap,\n      onSelect = _a.onSelect,\n      onTagSelect = _a.onTagSelect,\n      onFuseScoreToCssClass = _a.onFuseScoreToCssClass,\n      resultCountLabel = _a.resultCountLabel,\n      showResultGrid = _a.showResultGrid,\n      children = _a.children;\n  if (!FuzzyResultCtx) throw new ReferenceError(\"FuzzyResult context validated false. There must be an error inside the useFuzzyResult custom hook\");\n  return React.createElement(FuzzyResultCtx.Provider, {\n    value: {\n      fuzzyResult: fuzzyResult,\n      onSelect: onSelect,\n      onTagSelect: onTagSelect,\n      resultCountLabel: resultCountLabel,\n      showResultGrid: showResultGrid,\n      tagConceptMap: tagConceptMap,\n      onFuseScoreToCssClass: onFuseScoreToCssClass\n    }\n  }, children);\n};\n/**\r\n * Uses the FuzzyResult context and exposes therefore exposes the fuzzyResult variable.\r\n * Do not forget to previously import the FuzzyResultProvider and to assign it as parent\r\n * component somewhere. (otherwise useFuzzyResult cannot work)\r\n */\n\nexport var useFuzzyResult = function useFuzzyResult() {\n  if (!FuzzyResultCtx) throw new ReferenceError(\"FuzzyInputCtx is still null. Make sure to call the correct FuzzyResultProvider somewhere in the parent components.\");\n  return React.useContext(FuzzyResultCtx);\n};","import React from \"react\";\nimport { useFuzzyInput } from \"../../hooks/useFuzzyInput\";\nimport { useFuzzyResult } from \"../../hooks/useFuzzyResult\";\n\nvar Input = function Input(_a) {\n  var value = _a.value,\n      _onChange = _a.onChange,\n      onSearchClick = _a.onSearchClick,\n      _b = _a.loading,\n      loading = _b === void 0 ? false : _b,\n      _c = _a.placeHolder,\n      placeHolder = _c === void 0 ? \"Search...\" : _c; // needed to pass input value to onClick at span\n\n  var inputRef = React.useRef(null);\n  var inputCtx = useFuzzyInput();\n  var resultCtx = useFuzzyResult(); // state to display filter \n\n  var _d = React.useState(false),\n      showFilterTab = _d[0],\n      setShowFilterTab = _d[1];\n\n  var checkIncludes = function checkIncludes(activeKeys, fuseKeys) {\n    return activeKeys.every(function (key) {\n      return fuseKeys.includes(key);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    className: \"zim-fuzzy--input-form\",\n    onSubmit: onSearchClick ? function (evt) {\n      evt.preventDefault();\n      onSearchClick(inputRef.current ? inputRef.current.value : \"\");\n      if (inputCtx.onSearch) inputCtx.onSearch(value ? value : \"\");\n    } : function (evt) {\n      return evt.preventDefault();\n    }\n  }, React.createElement(\"div\", {\n    className: \"input-group mb-3 zim-fuzzy--input-group\"\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\"\n  }, React.createElement(\"button\", {\n    className: \"input-group-text\",\n    type: \"submit\"\n  }, !loading ? React.createElement(\"span\", {\n    className: \"fa fa-search\"\n  }) : React.createElement(\"div\", {\n    className: \"spinner-border spinner-border-sm\",\n    role: \"status\"\n  }, React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, \"Loading...\")))), React.createElement(\"input\", {\n    list: inputCtx.suggestions ? \"\" + inputCtx.suggestions[Object.keys(inputCtx.suggestions)[0]].value : undefined,\n    name: inputCtx.suggestions ? \"\" + inputCtx.suggestions[Object.keys(inputCtx.suggestions)[0]].value : undefined,\n    ref: inputRef,\n    className: \"form-control\",\n    value: value ? value : \"\",\n    onChange: function onChange(evt) {\n      return _onChange(evt.currentTarget.value);\n    },\n    type: \"text\",\n    disabled: loading,\n    placeholder: !loading ? placeHolder : \"...\"\n  }), inputCtx.suggestions ? React.createElement(\"datalist\", {\n    id: \"\" + inputCtx.suggestions[Object.keys(inputCtx.suggestions)[0]].value\n  }, Object.keys(inputCtx.suggestions).map(function (sugg, i) {\n    return React.createElement(\"option\", {\n      key: \"sugg_\" + i,\n      value: inputCtx.suggestions[sugg].value\n    }, inputCtx.suggestions[sugg].label);\n  })) : null, React.createElement(\"div\", {\n    className: \"input-group-append\"\n  }, resultCtx.tagConceptMap ? React.createElement(\"button\", {\n    type: \"button\",\n    className: \"input-group-text\",\n    onClick: function onClick() {\n      return setShowFilterTab(!showFilterTab);\n    }\n  }, React.createElement(\"span\", null, React.createElement(\"i\", {\n    className: \"fa fa-filter XIcon\",\n    style: {\n      cursor: \"pointer\"\n    },\n    title: \"Filter\"\n  }))) : null, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"input-group-text\",\n    onClick: function onClick() {\n      _onChange(null);\n\n      if (onSearchClick) {\n        onSearchClick(\"\");\n      }\n    }\n  }, React.createElement(\"span\", null, React.createElement(\"i\", {\n    className: \"fa fa-times XIcon\",\n    style: {\n      cursor: \"pointer\"\n    },\n    title: \"Delete\"\n  })))))), resultCtx.tagConceptMap ? React.createElement(\"select\", {\n    multiple: true,\n    style: {\n      visibility: showFilterTab ? 'visible' : 'hidden',\n      display: \"relative\"\n    },\n    className: \"float-right\",\n    onChange: function onChange(evt) {\n      var selectedTags = []; //@ts-ignore\n\n      for (var _i = 0, _a = evt.currentTarget.options; _i < _a.length; _i++) {\n        var option = _a[_i];\n        if (option.selected) selectedTags.push(option.value);\n      }\n\n      return inputCtx.setSelTag(selectedTags);\n    }\n  }, Object.keys(resultCtx.tagConceptMap).map(function (key, i) {\n    return React.createElement(\"option\", {\n      key: \"tag_concept_\" + i,\n      value: key\n    }, key);\n  })) : null, inputCtx.fuseKeyMap && inputCtx.fuseStateOptions.keys ? React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n    className: \"nav\"\n  }, React.createElement(\"li\", {\n    className: \"nav-item\"\n  }, React.createElement(\"a\", {\n    className: \"nav-link \" + (checkIncludes(Object.keys(inputCtx.fuseKeyMap), inputCtx.fuseStateOptions.keys) ? \"active\" : \"\"),\n    href: \"#s\",\n    onClick: function onClick(evt) {\n      evt.preventDefault();\n      inputCtx.toggleFuseKey(Object.keys(inputCtx.fuseKeyMap));\n    }\n  }, inputCtx.fuseKeyAllLabel)), Object.keys(inputCtx.fuseKeyMap).map(function (fuseKey) {\n    return React.createElement(\"li\", {\n      key: fuseKey,\n      className: \"nav-item\"\n    }, React.createElement(\"a\", {\n      href: \"#a\",\n      onClick: function onClick(evt) {\n        evt.preventDefault();\n        inputCtx.toggleFuseKey([fuseKey]);\n      },\n      className: \"nav-link \" + (checkIncludes(inputCtx.fuseStateOptions.keys, [fuseKey]) ? \"active\" : \"\")\n    }, //@ts-ignore\n    inputCtx.fuseKeyMap[fuseKey].label));\n  })), React.createElement(\"br\", null)) : null);\n};\n\nexport default Input;","import React from \"react\";\n/**\r\n * Takes in an array to be indexed in page chunks. Returns indexed page chunk and\r\n * methods to navigate according through the indexed page chunks.\r\n * @param toIndex Array to be indexed\r\n * @param pageLen Length of page. Measured in count of things in given toIndex array.\r\n *\r\n * */\n\nexport var usePagination = function usePagination(toIndex, pageLen) {\n  if (pageLen === void 0) {\n    pageLen = 5;\n  }\n\n  var _a = React.useState(null),\n      pageTuples = _a[0],\n      setPageTuples = _a[1];\n\n  var _b = React.useState(0),\n      curPageTupleInd = _b[0],\n      setCurPageTupleInd = _b[1]; //generate page indexes\n\n\n  React.useEffect(function () {\n    if (!toIndex) return;\n    var indices = indexPageTuples(toIndex, pageLen); // makes sure that when no indices found -> reset result.\n\n    if (indices.length === 0) {\n      setPageTuples(null);\n      setCurPageTupleInd(0);\n      return;\n    }\n\n    setPageTuples(function () {\n      return indices;\n    });\n  }, [JSON.stringify(toIndex)]);\n  /**\r\n   * Returns the current active page-chunk as any[].\r\n   */\n\n  var getPageSection = function getPageSection() {\n    if (!toIndex) throw new ReferenceError(\"toIndex is undefined. Cannot get the section of an undefined array. \");\n    var activeTuple = getCurPageTuple();\n    return toIndex.slice(activeTuple[0], activeTuple[1]);\n  };\n  /**\r\n   * @returns The current active tuple index of the indexed array.\r\n   */\n\n\n  var getCurPageTuple = function getCurPageTuple() {\n    if (!pageTuples) throw new ReferenceError(\"Array is not indexed yet. Make sure to call getCurPageTuple only when the pageTuples are already defined.\");\n    return pageTuples[curPageTupleInd];\n  };\n  /**\r\n   * Activates the next page chunk.\r\n   */\n\n\n  var nextPage = function nextPage() {\n    if (!pageTuples) return;\n    if (curPageTupleInd === pageTuples.length - 1) return;\n    return setCurPageTupleInd(curPageTupleInd + 1);\n  };\n  /**\r\n   * Activates previous page chunk\r\n   */\n\n\n  var prevPage = function prevPage() {\n    if (!pageTuples) return;\n    if (curPageTupleInd === 0) return;\n    return setCurPageTupleInd(curPageTupleInd - 1);\n  };\n  /**\r\n   * Activates given page chunk number.\r\n   * @param tupleInd number of page to be activated\r\n   */\n\n\n  var goToPage = function goToPage(tupleInd) {\n    if (!pageTuples) return;\n    setCurPageTupleInd(tupleInd);\n  };\n  /**\r\n   * Checks if given tuple is not same by reference but by value.\r\n   * Returns true only if same by value.\r\n   * @param a first tuple to compare\r\n   * @param b second tuple to compare\r\n   */\n\n\n  var compareTuples = function compareTuples(a, b) {\n    return Array.isArray(a) && Array.isArray(b) && a.length === b.length && a.every(function (val, index) {\n      return val === b[index];\n    });\n  };\n  /**\r\n   * Returns the index of the first tuple that is same by value (not reference).\r\n   * @param tuples Array of tuples to be searched.\r\n   * @param aTuple tuple to be found in given array.\r\n   */\n\n\n  var findSameTuple = function findSameTuple(tuples, aTuple) {\n    var ind = -1;\n    tuples.forEach(function (tuple, i) {\n      if (compareTuples(tuple, aTuple)) return ind = i;\n    });\n    return ind;\n  };\n  /**\r\n   * Returns an tuple array as index for pagination according to given array.\r\n   * The first tuple value represents the start and the second the end of the currently indexed page.\r\n   * E.g. [[0,5],[5,10],[10,12]].\r\n   * @param arr array to represented as tuple array.\r\n   * @param pageSize \"span-value\" of first and second entry of tuple. 5 will e.g. generate [15,20] or [0,5]\r\n   * @returns Array of tuples.\r\n   */\n\n\n  var indexPageTuples = function indexPageTuples(arr, pageSize) {\n    if (pageSize === void 0) {\n      pageSize = 10;\n    }\n\n    var modulo = arr.length % pageSize;\n    var keyNum = arr.length;\n    var last = 0;\n    var tuples = [];\n\n    for (var i = pageSize; i <= keyNum; i += pageSize) {\n      tuples.push([last, i]);\n      last = i;\n    } // when uneven need to push rest also\n\n\n    if (modulo !== 0) tuples.push([last, last + modulo]);\n    return tuples;\n  };\n\n  return {\n    nextPage: nextPage,\n    prevPage: prevPage,\n    goToPage: goToPage,\n    getPageSection: getPageSection,\n    pageTuples: pageTuples,\n    // more intern methods\n    compareTuples: compareTuples,\n    findSameTuple: findSameTuple,\n    indexPageTuples: indexPageTuples,\n    curPageTupleInd: curPageTupleInd,\n    getCurPageTuple: getCurPageTuple\n  };\n};","import React from \"react\";\nimport { usePagination } from \"../../../../hooks/usePagination\";\n\nvar PageMark = function PageMark(_a) {\n  var linkedTuple = _a.linkedTuple,\n      curPageTuple = _a.curPageTuple,\n      index = _a.index,\n      onSelect = _a.onSelect;\n\n  var _b = usePagination(),\n      findSameTuple = _b.findSameTuple,\n      compareTuples = _b.compareTuples;\n\n  return React.createElement(\"li\", {\n    key: \"pageBtn_\" + linkedTuple.toString(),\n    className: \"page-item \" + (compareTuples(linkedTuple, curPageTuple) ? \"active\" : \"\")\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    onClick: function onClick(evt) {\n      evt.preventDefault();\n      onSelect(index);\n    }\n  }, index + 1));\n};\n\nexport default PageMark;","import React from \"react\";\nimport { usePagination } from \"../../../hooks/usePagination\";\nimport PageMark from \"./PageMark\";\n/**\r\n * Renders a bar for switching between different pages. Uses page-indices in form of tuples.\r\n *\r\n */\n\nvar PageBar = function PageBar(_a) {\n  var _b = _a.curPageTuple,\n      curPageTuple = _b === void 0 ? [0, 5] : _b,\n      _c = _a.pageTuples,\n      pageTuples = _c === void 0 ? [[0, 5], [5, 10], [10, 15]] : _c,\n      onPageSelect = _a.onPageSelect,\n      prevPage = _a.prevPage,\n      nextPage = _a.nextPage;\n  var findSameTuple = usePagination().findSameTuple;\n\n  var renderPageNums = function renderPageNums() {\n    var curPageTupleInd = findSameTuple(pageTuples, curPageTuple);\n    return pageTuples.map(function (tuple, index) {\n      // when normal page marker should be rendered\n      var isTrue = false;\n\n      if (index < 5) {\n        isTrue = true;\n      } else if (index > curPageTupleInd - 3 && index < curPageTupleInd + 3) {\n        isTrue = true;\n      } else if (index > pageTuples.length - 1 - 2) {\n        isTrue = true;\n      }\n\n      return isTrue ? React.createElement(PageMark, {\n        key: tuple.toString() + index,\n        curPageTuple: curPageTuple,\n        index: index,\n        linkedTuple: tuple,\n        onSelect: onPageSelect\n      }) : null;\n    });\n  };\n\n  return pageTuples.length > 1 ? React.createElement(\"ul\", {\n    className: \"pagination zim-fuzzy--result-pagination\"\n  }, React.createElement(\"li\", {\n    className: \"page-item \" + (curPageTuple[0] === 0 ? \"disabled\" : \"\")\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    \"aria-label\": \"Previous\",\n    onClick: function onClick(evt) {\n      evt.preventDefault();\n      prevPage();\n    }\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xAB\"), React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, \"Previous\"))), renderPageNums(), React.createElement(\"li\", {\n    className: \"page-item \" + (curPageTuple[1] === pageTuples[pageTuples.length - 1][1] ? \"disabled\" : \"\")\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    \"aria-label\": \"Next\",\n    onClick: function onClick(evt) {\n      evt.preventDefault();\n      nextPage();\n    }\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xBB\"), React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, \"Next\")))) : null;\n};\n\nexport default PageBar;","import Mark from \"mark.js\";\n/**\r\n * Uses library mark.js (https://markjs.io/#getting-to-know-markjs) to highlight\r\n * html text nodes according to given search value. For implementation details see link.\r\n * @param search Optional: string to be searched.\r\n * @param markOptions Optional: mark.js-option object to customize search.\r\n */\n\nexport var useMarkJs = function useMarkJs(search, markOptions) {\n  var markInstance = null;\n  /**\r\n   * Reads text content of given element and nests matched strings in <mark> tags according to given search value.\r\n   * (can be configured via the options object)\r\n   * @param elem Element to be read out. Best given as ref.current.\r\n   * @param value optional: String to be searched -> will default to global saerch string.\r\n   * @param options optional: mark.js option object -> will default to global option.\r\n   */\n\n  var mark = function mark(elem, value, options) {\n    if (value === void 0) {\n      value = search;\n    }\n\n    if (options === void 0) {\n      options = markOptions;\n    }\n\n    if (!value) return;\n    markInstance = markInstance || new Mark(elem);\n    markInstance.unmark();\n    markInstance.mark(value, options);\n  };\n  /**\r\n   * Reads text content of given element and nests matched strings in <mark> tags according to given regex.\r\n   * (can be configured via the options object)\r\n   * @param elem Element to be read out. Best given as ref.current.\r\n   * @param regex Regex to be searched.\r\n   * @param options optional: mark.js option object -> will default to global option.\r\n   */\n\n\n  var markRegEx = function markRegEx(elem, regex, options) {\n    if (options === void 0) {\n      options = markOptions;\n    }\n\n    markInstance = markInstance || new Mark(elem);\n    markInstance.unmark();\n    markInstance.markRegExp(regex, options);\n  };\n\n  return {\n    mark: mark,\n    markRegEx: markRegEx\n  };\n};","import React from \"react\";\nimport { useMarkJs } from \"../../../hooks/useMark\";\nimport { useFuzzyResult } from \"../../../hooks/useFuzzyResult\";\nimport { useFuzzyInput } from \"../../../hooks/useFuzzyInput\";\n/**\r\n * Renders indexed page section with higlighting using the mark.js hook.\r\n * @param curPage array of data that represents one page\r\n * @param onSelect function reference for what should happen when a result was chosen\r\n * @param inputVal val that should be used for marking via mark.js\r\n * @param searchResult original result\r\n * @param markOptions options from mark that should be applied.\r\n */\n\nvar ResultPage = function ResultPage(_a) {\n  var curPage = _a.curPage,\n      onSelect = _a.onSelect,\n      searchResult = _a.searchResult,\n      inputVal = _a.inputVal,\n      markOptions = _a.markOptions,\n      searchedVal = _a.searchedVal;\n  var mark = useMarkJs(inputVal ? inputVal : undefined, markOptions).mark;\n\n  var _b = useFuzzyResult(),\n      resultCountLabel = _b.resultCountLabel,\n      tagConceptMap = _b.tagConceptMap,\n      showResultGrid = _b.showResultGrid,\n      onTagSelect = _b.onTagSelect,\n      onFuseScoreToCssClass = _b.onFuseScoreToCssClass;\n\n  var inputCtx = useFuzzyInput(); //when page changes -> mark new page (mark needs a ref)\n\n  var divRef = React.useRef(null);\n  React.useEffect(function () {\n    if (!divRef.current) return; // when clickmode active -> use saved searchval (and not input directly)\n\n    if (inputCtx.clickMode) {\n      mark(divRef.current, searchedVal ? searchedVal : undefined);\n    } else {\n      mark(divRef.current, inputVal ? inputVal : undefined);\n    } // redraw with mark when page is rerendered AND when markoptions change\n\n  }, [JSON.stringify(curPage), markOptions]);\n\n  var handleTagClick = function handleTagClick(evt) {\n    //console.log(evt.currentTarget.textContent);\n    if (!tagConceptMap) return;\n    var tagVal = evt.currentTarget.textContent; //@ts-ignore\n\n    if (!tagConceptMap[tagVal]) return; //@ts-ignore\n\n    var tagObj = tagConceptMap[tagVal];\n\n    if (onTagSelect) {\n      evt.preventDefault();\n      return onTagSelect(tagObj);\n    }\n\n    window.location.href = tagObj.url;\n  };\n\n  return searchResult ? React.createElement(React.Fragment, null, React.createElement(\"h6\", null, resultCountLabel, searchResult.length), React.createElement(\"div\", {\n    ref: divRef,\n    className: \"\" + (showResultGrid ? \"card-columns\" : \"\")\n  }, curPage.map(function (val, ind) {\n    return React.createElement(\"div\", {\n      className: \"zim-fuzzy--result-div \" + (showResultGrid ? \"card\" : \"\") + \" \" + (val.score ? onFuseScoreToCssClass(val.score) : ''),\n      key: \"ResultPage_div_\" + ind\n    }, React.createElement(\"div\", {\n      className: \"\" + (showResultGrid ? \"card-body\" : \"\")\n    }, showResultGrid ? React.createElement(\"br\", null) : null, !showResultGrid ? React.createElement(\"a\", {\n      className: \"a_result zim-fuzzy--result-crumb\",\n      key: \"searchable_\" + ind,\n      onClick: onSelect ? function (evt) {\n        evt.preventDefault();\n        onSelect(val.item);\n      } : undefined,\n      href: val.item.value\n    }, val.item.value) : null, React.createElement(\"a\", {\n      href: val.item.value,\n      onClick: onSelect ? function (evt) {\n        evt.preventDefault();\n        onSelect(val.item);\n      } : undefined\n    }, React.createElement(\"h3\", {\n      className: \"zim-fuzzy--result-heading\",\n      key: \"paginatedHeader_\" + ind\n    }, val.item.label)), val.item.txt ? React.createElement(\"p\", {\n      className: \"zim-fuzzy--result-txt\"\n    }, showResultGrid ? (\" \" + val.item.txt).substring(0, 200) + \"...\" : val.item.txt) : null, React.createElement(\"p\", null, val.item.tags ? val.item.tags.map(function (tag) {\n      return React.createElement(\"button\", {\n        key: val.item + \"_\" + tag,\n        onClick: handleTagClick,\n        className: \"btn badge rounded-pill bg-light zim-fuzzy--result-tag\"\n      }, tag);\n    }) : null)));\n  }))) : null;\n};\n\nexport default ResultPage;","import React from \"react\";\nimport { useFuzzyResult } from \"../../hooks/useFuzzyResult\";\nimport { useFuzzyInput } from \"../../hooks/useFuzzyInput\";\nimport { usePagination } from \"../../hooks/usePagination\";\nimport PageBar from \"./PageBar\";\nimport ResultPage from \"./ResultPage\";\n\nvar Result = function Result(_a) {\n  var markOptions = _a.markOptions,\n      searchedVal = _a.searchedVal;\n\n  var _b = useFuzzyResult(),\n      fuzzyResult = _b.fuzzyResult,\n      onSelect = _b.onSelect,\n      resultCountLabel = _b.resultCountLabel;\n\n  var _c = usePagination(fuzzyResult ? fuzzyResult : null, 7),\n      pageTuples = _c.pageTuples,\n      getCurPageTuple = _c.getCurPageTuple,\n      nextPage = _c.nextPage,\n      prevPage = _c.prevPage,\n      goToPage = _c.goToPage,\n      getPageSection = _c.getPageSection; // via context could also use the input value from user\n\n\n  var inputVal = useFuzzyInput().inputVal; // when result changes -> set active page to first.\n\n  React.useEffect(function () {\n    if (!getPageSection) return; // when result changes -> reset page to one.\n\n    try {\n      getPageSection();\n      goToPage(0);\n    } catch (e) {\n      return;\n    }\n  }, [fuzzyResult]);\n\n  var renderEmptyResult = function renderEmptyResult() {\n    try {\n      //@ts-ignore\n      return React.createElement(\"h6\", null, fuzzyResult.length === 0 ? (resultCountLabel ? resultCountLabel : \"Got results: \") + \" 0\" : \"\");\n    } catch (e) {\n      return null;\n    }\n  };\n\n  return React.createElement(React.Fragment, null, renderEmptyResult(), fuzzyResult && pageTuples ? React.createElement(\"div\", {\n    className: \"zim-fuzzy--result-main\"\n  }, React.createElement(ResultPage, {\n    inputVal: inputVal,\n    curPage: getPageSection(),\n    onSelect: onSelect,\n    searchResult: fuzzyResult,\n    markOptions: markOptions,\n    searchedVal: searchedVal\n  }), React.createElement(\"br\", null), React.createElement(PageBar, {\n    nextPage: nextPage,\n    prevPage: prevPage,\n    pageTuples: pageTuples,\n    curPageTuple: getCurPageTuple(),\n    onPageSelect: function onPageSelect(ind) {\n      return goToPage(ind);\n    }\n  })) : null);\n};\n\nexport default Result;","import React from \"react\";\nimport Input from \"./Input\";\nimport Result from \"./Result\";\nimport { useFuzzyInput } from \"../hooks/useFuzzyInput\";\n\nvar FuzzyGui = function FuzzyGui(_a) {\n  var markOptions = _a.markOptions;\n  var inputCtx = useFuzzyInput();\n  var searchedVal = React.useRef(null);\n\n  var handleClickSearch = function handleClickSearch(val) {\n    inputCtx.handleInput(val);\n\n    if (inputCtx.clickMode) {\n      searchedVal.current = val;\n      inputCtx.doSearch(val);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"zim-fuzzy--main\"\n  }, React.createElement(Input, {\n    value: inputCtx.inputVal,\n    onChange: inputCtx.handleInput,\n    onSearchClick: inputCtx.clickMode ? handleClickSearch : undefined,\n    loading: inputCtx.data ? false : true,\n    placeHolder: inputCtx.placeHolder\n  }), React.createElement(Result, {\n    markOptions: markOptions,\n    searchedVal: searchedVal.current\n  }));\n};\n\nexport default FuzzyGui;","import React from \"react\";\nimport { useFuse } from \"./hooks/useFuse\";\nimport { FuzzyInputProvider } from \"./hooks/useFuzzyInput\";\nimport { FuzzyResultProvider } from \"./hooks/useFuzzyResult\";\nimport FuzzyGui from \"./FuzzyGui\"; // fuse specific default option\n\nvar optionsDefault = {\n  //includeMatches: true,\n  ignoreLocation: true,\n  ignoreFieldNorm: false,\n  includeScore: true,\n  keys: [\"label\", \"txt\", \"tags\"]\n}; //default options for mark.js\n\nvar markOptionsDefault = {\n  element: \"b\",\n  accuracy: \"complementary\",\n  exclude: [\"h5\"]\n};\n\nvar ZIMFuzzySearch = function ZIMFuzzySearch(_a) {\n  var data = _a.data,\n      tagConceptMap = _a.tagConceptMap,\n      onSelect = _a.onSelect,\n      onTagSelect = _a.onTagSelect,\n      onSearch = _a.onSearch,\n      onFuseKeySelect = _a.onFuseKeySelect,\n      _b = _a.onFuseScoreToCssClass,\n      onFuseScoreToCssClass = _b === void 0 ? mapFuzzyInterval : _b,\n      searchInput = _a.searchInput,\n      _c = _a.placeHolder,\n      placeHolder = _c === void 0 ? \"Search...\" : _c,\n      onInput = _a.onInput,\n      _d = _a.fuseOptions,\n      fuseOptions = _d === void 0 ? optionsDefault : _d,\n      _e = _a.markOptions,\n      markOptions = _e === void 0 ? markOptionsDefault : _e,\n      _f = _a.resultCountLabel,\n      resultCountLabel = _f === void 0 ? \"Matches: \" : _f,\n      _g = _a.searchOnClick,\n      searchOnClick = _g === void 0 ? false : _g,\n      _h = _a.showResultGrid,\n      showResultGrid = _h === void 0 ? false : _h,\n      _j = _a.fuseKeyMap,\n      fuseKeyMap = _j === void 0 ? null : _j,\n      _k = _a.fuseKeyAllLabel,\n      fuseKeyAllLabel = _k === void 0 ? \"All\" : _k,\n      suggestions = _a.suggestions,\n      children = _a.children;\n\n  var _l = React.useState(function () {\n    // make sure that scores are always included\n    fuseOptions.includeScore = true;\n    return fuseOptions;\n  }),\n      fuseStateOptions = _l[0],\n      setFuseStateOptions = _l[1];\n\n  var _m = React.useState(searchInput ? searchInput : null),\n      inputVal = _m[0],\n      setInputVal = _m[1];\n\n  var fuseSearchInputDelay = React.useRef(undefined); // states needed for additional filtering of the fuseResults\n\n  var _o = React.useState(undefined),\n      filteredFuseResult = _o[0],\n      setFilteredFuseResult = _o[1];\n\n  var _p = React.useState([]),\n      selTag = _p[0],\n      setSelTag = _p[1];\n\n  var _q = useFuse(fuseStateOptions, data),\n      fuseResult = _q.fuseResult,\n      doFuseSearch = _q.doFuseSearch,\n      groupBy = _q.groupBy,\n      resetFuse = _q.resetFuse; // two way binding\n\n\n  React.useEffect(function () {\n    if (!searchInput) return;\n    setInputVal(searchInput);\n  }, [searchInput, data]); // when value set from outside -> do a fuse serach once\n\n  React.useEffect(function () {\n    if (!searchInput) return; // when value set from outside -> trigger search once.\n\n    if (searchOnClick && !fuseResult && data) {\n      doFuseSearch(searchInput);\n      if (onSearch) onSearch(searchInput);\n    }\n  }, [data]); // when input change do search when not in clickmode.\n  // timer delays init auf fusesearch(e.g. if multiple inputs)\n\n  React.useEffect(function () {\n    if (fuseSearchInputDelay.current) clearTimeout(fuseSearchInputDelay.current);\n\n    if (!searchOnClick && inputVal) {\n      fuseSearchInputDelay.current = setTimeout(function () {\n        if (fuseSearchInputDelay.current) {\n          doFuseSearch(inputVal);\n          if (onSearch) onSearch(inputVal);\n        }\n      }, 300);\n    } else if (inputVal === null) {\n      resetFuse();\n    }\n  }, [searchInput, data, inputVal]);\n\n  var handleInput = function handleInput(val) {\n    setInputVal(val); // ensure two way binding\n\n    if (onInput) onInput(val ? val : \"\");\n  };\n\n  var toggleFuseKey = function toggleFuseKey(fuseKeys) {\n    var copy = JSON.parse(JSON.stringify(fuseStateOptions));\n    copy.keys = fuseKeys;\n    setFuseStateOptions(copy);\n    if (onFuseKeySelect) onFuseKeySelect(fuseKeys);\n  };\n  /**\r\n   * Trigger fuse search whenever fuse options change.\r\n   */\n\n\n  React.useEffect(function () {\n    //do only fire \n    if (fuseOptions === fuseStateOptions) return;\n    if (!inputVal) return;\n    doFuseSearch(inputVal);\n  }, [fuseStateOptions]);\n\n  var checkIncludes = function checkIncludes(activeKeys, fuseKeys) {\n    return activeKeys.some(function (key) {\n      return fuseKeys.includes(key);\n    });\n  }; // everytime when fuseResult changes -> filter according to this useEffect.\n  // Result component will only visualize the filtered result.\n  // \n\n\n  React.useEffect(function () {\n    if (!fuseResult) return;\n    if (!inputVal) return setFilteredFuseResult(undefined); // set filtered result to fuse result if no tagMap was given.\n\n    if (!tagConceptMap || selTag.length === 0) return setFilteredFuseResult(function () {\n      return fuseResult;\n    });\n    var filtered = fuseResult.filter(function (item) {\n      if (!item.item.tags) return false; //if(selTag[0] === \"\")return true;\n\n      return item.item.tags.some(function (tag) {\n        return selTag.includes(tag);\n      }); //return item.item.tags.includes(selTag)\n    });\n    setFilteredFuseResult(function () {\n      return filtered;\n    });\n  }, [fuseResult, selTag, inputVal]);\n  return React.createElement(FuzzyInputProvider, {\n    fuseStateOptions: fuseStateOptions,\n    fuseKeyMap: fuseKeyMap,\n    fuseKeyAllLabel: fuseKeyAllLabel,\n    toggleFuseKey: toggleFuseKey,\n    clickMode: searchOnClick,\n    doSearch: doFuseSearch,\n    onSearch: onSearch,\n    handleInput: handleInput,\n    inputVal: inputVal,\n    placeHolder: placeHolder,\n    data: data,\n    setSelTag: setSelTag,\n    suggestions: suggestions\n  }, React.createElement(FuzzyResultProvider, {\n    fuzzyResult: filteredFuseResult,\n    onSelect: onSelect,\n    resultCountLabel: resultCountLabel,\n    showResultGrid: showResultGrid,\n    tagConceptMap: tagConceptMap,\n    onTagSelect: onTagSelect,\n    onFuseScoreToCssClass: onFuseScoreToCssClass\n  }, children ? children : React.createElement(FuzzyGui, {\n    markOptions: markOptions\n  })));\n};\n\nexport default ZIMFuzzySearch;\n/**\r\n * Used as default method. Runs when CSS names are calculated for each result div.\r\n * Defines intervals and returns different css classnames according to fuse.js scores.\r\n * @param score Floating point value for Fuse score.\r\n * @returns Different css classnames to indicate fuse scoring.\r\n */\n\nvar mapFuzzyInterval = function mapFuzzyInterval(score) {\n  if (score < 0.0001) {\n    return \"zim-fuzzy-score-highest\";\n  } else if (0.0001 < score && score <= 0.05) {\n    return \"zim-fuzzy-score-higher\";\n  } else if (0.05 < score && score <= 0.1) {\n    return \"zim-fuzzy-score-high\";\n  } else if (0.1 < score && score <= 0.5) {\n    return \"zim-fuzzy-score-medium\";\n  } else if (0.5 < score && score <= 1) {\n    return \"zim-fuzzy-score-low\";\n  } else if (score > 1) {\n    return \"zim-fuzzy-score-lowest\";\n  }\n\n  return \"zim-fuzzy-score-error\";\n};","import ZimFuzzySearch from './components';\nimport { useFuse } from \"./components/hooks/useFuse\";\nimport { useMarkJs } from \"./components/hooks/useMark\";\nimport { useFuzzyResult } from \"./components/hooks/useFuzzyResult\";\nimport { useFuzzyInput } from \"./components/hooks/useFuzzyInput\";\nexport var ZIMFuzzySearch = {\n  Comp: ZimFuzzySearch,\n  hooks: {\n    useFuse: useFuse,\n    useMarkJs: useMarkJs,\n    useFuzzyResult: useFuzzyResult,\n    useFuzzyInput: useFuzzyInput\n  }\n};","import React from \"react\";\nimport { Link, graphql, useStaticQuery, navigate } from \"gatsby\"\nimport { ZIMFuzzySearch, ZIMSearchAble } from \"zim-fuzzysearch\";\n//@ts-ignore\nimport * as styles from \"./styles.module.css\";\n\ninterface Props {\n  path?: string,\n  default?: boolean,\n  id?: any\n}\n\nconst DocsFuzzySearch: React.FC<Props> = (props) => {\n\n  <p>{props.id}</p>\n  console.log(props)\n  \n  const data: GraphQlResponse.Data = useStaticQuery(graphql`\n  {\n    allGoogleDocs {\n      edges {\n        node {\n          path\n          name\n          childMarkdownRemark {\n            excerpt(pruneLength: 500)\n            headings {\n              value\n            }\n          }\n        }\n      }\n    }\n    allNpmPackage(\n      filter: {keywords: {in: \"Centre for Information Modelling\"}}\n      sort: {fields: modified, order: DESC}\n    ) {\n      edges {\n        node {\n          description\n          title\n          readme {\n            childMarkdownRemark {\n              excerpt\n              headings {\n                value\n              }\n            }\n          }\n          slug\n        }\n      }\n    }\n  }\n  \n  `)\n\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      let input = document.querySelector(\"input\");\n      if(!input)return; \n      input.focus();\n      input.scrollTo();\n    }, 500)\n  }, []);\n\n\n  /**\n   * Uses the data from graphql and transforms it to required fuzzy search \n   * data structure.\n   * @returns \n   */\n  const aggGraphqlToFuzzy = () => {\n    let fuzzyData: ZIMSearchAble[] = [];\n\n    // aggregate google docs to fuzzy\n    data.allGoogleDocs.edges.forEach(edge => {\n\n      let tags: string[] = []\n      // assign tags first\n\n      if(edge.node.path.includes(\"reference\")){\n        tags.push(\"Reference Implementation\");\n      } else if(edge.node.path.includes(\"guidelines\")){\n        tags.push(\"Guideline\");\n      } else {\n        tags.push(\"Doc\");\n      }\n\n\n      fuzzyData.push({\n        label: edge.node.name,\n        value: edge.node.path,\n        txt: edge.node.childMarkdownRemark.excerpt,\n        // additionally search through all headings\n        headings: edge.node.childMarkdownRemark.headings.map(heading => heading.value),\n        // tags relative \n        tags: tags\n      });\n    })\n\n    // npm packages to fuzzy data struct\n    data.allNpmPackage.edges.forEach(edge => {\n      fuzzyData.push({\n        label: edge.node.title,\n        value: \"/npm\" + edge.node.slug,\n        txt: edge.node.readme.childMarkdownRemark.excerpt,\n        // additionally search through all headings\n        headings: edge.node.readme.childMarkdownRemark.headings.map(heading => heading.value),\n        tags:[\"NPM Package\"]\n      });\n    })\n\n    console.log(fuzzyData);\n\n    return fuzzyData;\n  }\n\n\n  return <div className={styles.fuzzySearch}><ZIMFuzzySearch.Comp\n  // optionally try with test data\n  // as long as no data is defined -> will display loader \n  // data={testData.coremaData}\n  data={aggGraphqlToFuzzy()}  \n\n placeHolder=\"Search for a documentation source...\" \n searchInput={props.id}\n\n\n  // tagConceptMap leads user to a link when clicked on tag badge \n  // not all tags have to be stated.\n\n  fuseOptions={{\n    keys:[\"label\", \"value\", \"txt\", \"headings\"]\n  }}\n  fuseKeyMap={{\n    label: {label: \"title\"},\n    value: {label: \"path\"},\n    txt: {label: \"excerpt\"},\n    headings: {label:\"headings\"}\n  }}\n\n  tagConceptMap={{\n    \"Reference Implementation\": {\n      url:\"/\"\n    },\n    \"Doc\": {url:\"/\"},\n    \"NPM Package\": {url: \"/\"},\n    \"Guideline\": {url: \"/\"}\n  }}\n  \n  // specify labeling of result count\n  resultCountLabel=\"Estimated results: \"\n\n  // starts fuse search on input change (with short delay) when set to false\n  // set to true will demand click on search button (fuzzy search is decoupled from highlight)\n  searchOnClick={true}\n\n  // \n  onSelect={\n    // what should happen when result link is clicked\n    // callback gets passed in selected ZimSearchable object\n    (selected) => {\n      navigate(selected.value);\n    }\n  } \n\n  // what should happen when a tag is clicked\n  onTagSelect={\n    (tag) => navigate(tag.url) \n  }\n\n  onSearch={ (val) => {\n    // return if already in history\n    if(window.location.href.split(\"/\").includes(val))return;\n    \n    history.pushState(undefined, \"last_search\", val)\n  }}\n\n  suggestions={\n    {\n      ...data.allGoogleDocs.edges.reduce((agg, edge) => {\n      agg[edge.node.name] = {\n        label:edge.node.path,\n        value:edge.node.name\n      }\n      return agg\n      }, {}),\n      ...data.allNpmPackage.edges.reduce((agg, edge) => {\n        agg[edge.node.title] = {\n          label:edge.node.slug,\n          value:edge.node.title\n        }\n        return agg\n        }, {})\n    }\n\n}\n\n\n  // display search alert via using the onSearch prop\n  //onSearch={(searchVal) => alert(\"Searching now for: \" + searchVal + \" (this message may be customized)\")}\n\n/></div>\n\n}\n\nexport default DocsFuzzySearch;\n\n\ndeclare module GraphQlResponse {\n\n  export interface Heading {\n      value: string;\n  }\n\n  export interface ChildMarkdownRemark {\n      excerpt: string;\n      headings: Heading[];\n  }\n\n  export interface Node {\n      path: string;\n      name: string;\n      childMarkdownRemark: ChildMarkdownRemark;\n  }\n\n  export interface Edge {\n      node: Node;\n  }\n\n  export interface AllGoogleDocs {\n      edges: Edge[];\n  }\n\n  export interface Heading2 {\n      value: string;\n  }\n\n  export interface ChildMarkdownRemark2 {\n      excerpt: string;\n      headings: Heading2[];\n  }\n\n  export interface Readme {\n      childMarkdownRemark: ChildMarkdownRemark2;\n  }\n\n  export interface Node2 {\n      description: string;\n      title: string;\n      readme: Readme;\n      slug: string;\n  }\n\n  export interface Edge2 {\n      node: Node2;\n  }\n\n  export interface AllNpmPackage {\n      edges: Edge2[];\n  }\n\n  export interface Data {\n      allGoogleDocs: AllGoogleDocs;\n      allNpmPackage: AllNpmPackage;\n  }\n\n  export interface Extensions {\n  }\n\n  export interface RootObject {\n      data: Data;\n      extensions: Extensions;\n  }\n\n}\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nexport const fuzzySearch = \"styles-module--fuzzySearch--KhcMm\";","import React from \"react\"\nimport Layout from \"../components/Layout\"\nimport FrontendBar from \"../components/FrontendBar\";\nimport DocsFuzzySearch from \"../components/DocsFuzzySearch\"\nimport { Router,  } from \"@reach/router\"\n\nconst Search = () => {\n  return (\n    <Layout\n      center={\n        <>\n          <h1>Search</h1>\n          <p>Find things across all relevant data of the Frontend Portal</p>\n          <hr></hr>\n          <h2>fuzzy find: </h2>\n          <Router>\n            <DocsFuzzySearch path=\"/dooku_client/search/:id\"></DocsFuzzySearch>  \n            <DocsFuzzySearch default></DocsFuzzySearch>  \n          </Router>\n          {/* <h2>Ongoing documentation</h2>\n          <p>Last changed documents in ZIM Frontend folder in Google Drive: </p>\n          <FrontendDocFeed/>\n          <br></br>\n          <br></br> */}\n          \n        </>\n      }\n      left={<><FrontendBar/></>}\n    \n    ></Layout>\n  )\n}\n\nexport default Search;\n"],"sourceRoot":""}